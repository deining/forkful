---
title:    "Arduino: ディレクトリが存在するかどうかを確認する"
keywords: ["Arduino"]
---

{{< edit_this_page >}}

## なぜ

プログラミングをする上で、ディレクトリが存在するかどうかを確認する必要がある場合があります。たとえば、ファイルを読み込む際には、そのファイルが存在するかどうかを確認する必要があります。そのため、ディレクトリが存在するかどうかを確認する機能は非常に重要です。

## 使い方

まず、ディレクトリが存在するかどうかを確認するためには、次のようなコードを使用します。

```Arduino
#include <SD.h>

File directory = SD.open("/directory"); // ディレクトリを開く

if (!directory) { // ディレクトリが存在しない場合
  Serial.println("ディレクトリは存在しません");
}

directory.close(); // ディレクトリを閉じる
```
このコードでは、`SD`ライブラリを使用してディレクトリを開き、その後、`if`条件によってディレクトリが存在しない場合にメッセージを表示します。

もしディレクトリが存在する場合は、次のようにコードを変更してメッセージを表示させることができます。

```Arduino
if (directory) { // ディレクトリが存在する場合
  Serial.println("ディレクトリは存在します");
}
```

## ディープダイブ

ディレクトリが存在するかどうかを確認するには、`SD.open()`関数を使用します。この関数を使用すると、ディレクトリを開くことができます。開いたディレクトリは、`File`オブジェクトとして定義されます。

`File`オブジェクトは、ファイルやディレクトリに対して行う操作を管理するオブジェクトです。`SD.open()`を使用してディレクトリを開いた後は、`if`条件を用いて、オブジェクトが空でないことを確認することで、ディレクトリが存在するかどうかを判断することができます。

## See Also

- [SD ライブラリの使用方法](https://www.arduino.cc/en/Reference/SD)
- [Arduino 公式ウェブサイト](https://www.arduino.cc/)