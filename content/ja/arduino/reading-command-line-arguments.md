---
title:                "コンピュータープログラミングにおける「コマンドライン引数の読み取り」"
html_title:           "Arduino: コンピュータープログラミングにおける「コマンドライン引数の読み取り」"
simple_title:         "コンピュータープログラミングにおける「コマンドライン引数の読み取り」"
programming_language: "Arduino"
category:             "Arduino"
tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ja/arduino/reading-command-line-arguments.md"
---

{{< edit_this_page >}}

## なぜ

あなたがプログラミングをしているとき、あなたのプログラムがさまざまな入力を受け取る必要があるかもしれません。それが、コマンドライン引数を読み取る必要性の理由です。コマンドライン引数は、プログラムが実行されるときに渡すことができる追加の情報です。それを読み取ることで、プログラムの動作をカスタマイズすることができます。

## 使い方

コマンドライン引数を読み取るには、`argc`と`argv`を使用します。`argc`は、引数の数を表し、`argv`は実際の引数の値を格納する配列です。次の例では、引数の数とそれぞれの値をシリアルモニターに表示します。

```Arduino 
int main(int argc, char *argv[]) {

  Serial.begin(9600); //シリアルモニターを開始する

  Serial.println("引数の数: " + String(argc)); //引数の数を表示する

  for (int i = 0; i < argc; i++) { //すべての引数の値を表示する
    Serial.println("引数 " + String(i) + ": " + String(argv[i]));
  }
}
```

### 出力例

```
引数の数: 3
引数 0: プログラム名
引数 1: hello
引数 2: world
```

この例では、"hello"と"world"という2つの引数が渡されています。あなたのプログラムによっては、より多くの引数が渡されることもあるでしょう。

## 詳しく見る

コマンドライン引数を読み取るときに注意しなければならない点はいくつかあります。まず、引数はすべて文字列として渡されます。そのため、数値を使用する場合は`atol()`や`atoi()`などの関数を使用して、文字列を数値に変換する必要があります。また、引数が正しく渡されなかった場合、エラーハンドリングを行う必要があります。これには、引数の数を確認したり、引数の値が正しいかどうかを検証する処理が含まれます。

## あわせて見る

- [Arduinoプログラミング入門](https://www.arduino.cc/en/Tutorial/BuiltInExamples)
- [Arduinoリファレンス](https://www.arduino.cc/reference/ja/)

## おわりに

コマンドライン引数を読み取ることで、より柔軟なプログラムを作ることができます。さまざまな入力に対応することで、より多くのユーザーに使いやすいプログラムを作ることができるでしょう。ぜひ、コマンドライン引数を活用してみてください。