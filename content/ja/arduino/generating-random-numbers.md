---
title:    "Arduino: ランダムな数値の生成"
keywords: ["Arduino"]
editURL:  "https://github.com/dogweather/forkful/blob/master/content/ja/arduino/generating-random-numbers.md"
---

{{< edit_this_page >}}

## なぜ

なぜ誰かがランダムな数字を生成することに取り組むのか、それについて少し考えてみましょう。ランダムな数字を生成することで、異なる値をプログラムに組み込み、さまざまなアプリケーションを作ることができます。例えば、サイコロやくじ引きのようなゲームを作ることもできますし、ランダムな色を表示するライトアップディスプレイを作ることもできます。さらに、ランダムな数字や文字を用いて、機械学習のアルゴリズムや暗号の生成にも使われています。

## 作り方

Arduinoでランダムな数字を生成する方法は、非常に簡単です。まず、```random()```関数を使います。この関数は、0から指定した数までのランダムな数字を返します。例えば、ランダムな数字を0から9まで生成するには、次のようにコードを書きます。

```Arduino
int randomNumber = random(10);
```

これで、変数```randomNumber```には、0から9までのランダムな数字が格納されます。また、この関数を使えば、小数点以下の数字も生成することができます。例えば、0から1までの範囲で、小数点以下2桁のランダムな数字を生成するには、次のようにコードを書きます。

```Arduino
float randomDecimal = random(100) / 100.0;
```

こうすることで、変数```randomDecimal```には、0.00から0.99までのランダムな数字が格納されます。さらに、ランダムな文字を生成する方法についても知っておくと便利です。次のコードは、ランダムなアルファベットを表示する例です。

```Arduino
char randomLetter = char(random(65,91));
```

こうすることで、変数```randomLetter```には、AからZまでのアルファベットの中からランダムに選ばれた1つの文字が格納されます。

## 深堀り

ランダムな数字を生成する際には、乱数生成アルゴリズムと呼ばれるものが使われます。これは、コンピュータがランダムな値を生成するための数学的な手法のことです。Arduinoでは、デフォルトでメルセンヌツイスターと呼ばれる乱数生成アルゴリズムが使われています。このアルゴリズムは、32ビットの整数を用いて、2^32-1までのランダムな数字を生成することができます。

しかし、注意しなければいけないのは、この乱数生成アルゴリズムは完全にランダムではないことです。コードやボードの状態などによって、実際には予測可能な乱数が生成されることがあります。そのため、本格的な暗号生成にはこの乱数生成アルゴリズムを使わないようにすることが推奨されています。よりセキュアな乱数を生成するには、外部のハードウェアやサードパーティのライブラリを使うことが勧められます。

## 参考サイト

- [Arduinoの公式ドキュメンテーション](https://www.arduino.cc/reference/en/language/functions/random-numbers/random/)
- [メ