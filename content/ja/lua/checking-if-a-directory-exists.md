---
title:                "ディレクトリが存在するかどうかを確認する"
html_title:           "Lua: ディレクトリが存在するかどうかを確認する"
simple_title:         "ディレクトリが存在するかどうかを確認する"
programming_language: "Lua"
category:             "Lua"
tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ja/lua/checking-if-a-directory-exists.md"
---

{{< edit_this_page >}}

こんにちは、Luaプログラミングコミュニティ！今日は「ディレクトリが存在するかどうかをチェックする方法」についてお話ししましょう。これからコード例を通じて、簡単に理解できるよう丁寧に説明しますので、最後までお付き合いください。

## 何？そしてなぜ？
ディレクトリが存在するかどうかをチェックするとは、その名の通り、任意のディレクトリが実際にコンピューター上に存在するかどうかを確認することです。プログラマーがこれを行う理由は、プログラムがディレクトリを操作する前に、その存在を確認する必要があるからです。これにより、エラーを防ぎ、スムーズなプログラム実行を保証することができます。

## 方法：
以下に、Luaでディレクトリが存在するかどうかをチェックする方法を示します。コード例と実行結果を前後に示しますので、比較しながら読んでください。

```Lua
-- 先ずは、次のようにしてdirectoryのパスを指定します：
local directory = "/Users/username/Downloads"

-- 次に、file attributesの組み込み関数を使用して、指定したdirectoryの属性を取得します：
local attributes = file.attributes(directory)

-- 最後に、この属性が存在するかどうかをチェックします：
if attributes then
  -- directoryが存在するので、ここに処理を記述します
  print("このディレクトリは存在します。")
else
  -- directoryが存在しないので、エラーを出力します
  print("このディレクトリは存在しません。")
end
```

以上のコードを実行すると、以下のような結果が得られます。

```
このディレクトリは存在します。
```

## 深堀り：
さらに詳しく説明するために、ディレクトリが存在するかどうかをチェックする方法についてさらに深く掘り下げます。

**(1)歴史的背景：**
ディレクトリが存在するかどうかをチェックする方法は、ほとんどのプログラミング言語で取得できる組み込みの機能です。しかし、最初期のプログラミング言語では、このような機能はなかったため、プログラマーは手動でdirectoryをチェックする必要がありました。

**(2)代替手段：**
Luaでは、他にもディレクトリの存在を確認する方法があります。例えば、外部ライブラリを使用したり、ディレクトリ内のファイルをリストアップしてからチェックする方法などがあります。しかし、組み込みのfile attributes関数は、一般的でユーザーフレンドリーな方法でディレクトリの存在を確認することができます。

**(3)実装の詳細：**
file attributes関数は、指定したdirectoryのファイル属性を返すため、存在しないディレクトリを指定した場合、返り値はnilになります。さらに、アクセス権限なども合わせて取得することができます。

## 関連リンク：
ディレクトリの存在をチェックする方法について、もっと詳しく知りたい方は以下のリンクを参考にしてください。

- [Lua 公式ドキュメント](https://www.lua.org/manual/5.4/manual.html)
- [File Attributes 関数のドキュメント](https://www.lua.org/pil/21.2.html)
- [ディレクトリ操作のためのLuaライブラリ](http://wxlua.sourceforge.net/docs/wxlua/wxlfs.html)

これで「ディレクトリが存在するかどうかをチェックする方法」についてのご紹介は終わりです。皆さんのプログラミングに役立つことを願っています！