---
title:                "部分文字列の抽出"
html_title:           "C++: 部分文字列の抽出"
simple_title:         "部分文字列の抽出"
programming_language: "C++"
category:             "C++"
tag:                  "Strings"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ja/cpp/extracting-substrings.md"
---

{{< edit_this_page >}}

## なぜ

抽出するのは、文字列の一部を取り出すという便利な方法です。文字列をより小さな部分に分割したり、特定のパターンを見つけたりするために使用されます。この記事では、C++で簡単に抽出する方法を紹介します。

## 方法

C++で文字列を抽出するには、`substr()`関数を使用します。これは、文字列の一部を切り出して新しい文字列を作成するために使用されます。以下の例を見てみましょう。

```C++
#include <iostream>
using namespace std;

int main() {
  // 元の文字列を定義する
  string name = "山田太郎";

  // 一部を切り出して新しい文字列を作成する
  string first_name = name.substr(0,2); // "山田"

  // 切り出した文字列を出力する
  cout << "姓： " << first_name << endl;

  return 0;
}
```

上記のコードを実行すると、以下のような出力が得られます。

```
姓： 山田
```

`substr()`関数は、2つの引数をとります。最初の引数は、抽出する部分文字列の開始位置であり、0から始まるインデックスで指定します。2番目の引数は、抽出する文字数を指定します。上記の例では、最初の2つの文字を抽出しているため、`name.substr(0,2)`という記述になります。

さらに、文字列内に特定のパターンを見つけて抽出することもできます。次の例を見てみましょう。

```C++
#include <iostream>
using namespace std;

int main() {
  // 元の文字列を定義する
  string sentence = "昨日はとても楽しかったです。";

  // 文字列から特定のパターンを探して抽出する
  string keyword = sentence.substr(sentence.find("楽"), 6); // "楽しかった"

  // 抽出した文字列を出力する
  cout << "キーワード： " << keyword << endl;

  return 0;
}
```

上記のコードを実行すると、以下のような出力が得られます。

```
キーワード： 楽しかった
```

`find()`関数は、指定されたパターンが最初に登場する位置のインデックスを返します。上記の例では、`sentence.find("楽")`でパターンが最初に登場する位置のインデックスを求めています。また、パターンの長さは6文字なので、`keyword`の2番目の引数には6を指定しています。

## 詳細解説

C++で抽出するというと、文字列の一部を取り出すという単純な作業のように思えますが、実は奥が深い技術です。文字列処理は一般的にコンピュータサイエンスの重要なトピックであり、正規表現やアルゴリズムなど様々な概念が関連しています。

例えば、正規表現を使用すると、複雑なパターンの抽出が可能になります。また、`substr()`のような文字列関数だけではなく、配列やポインタなどのデータ構造を使用して文字列を操作することもできます。

## おわりに

以上が、C++で抽出する方法の簡単な紹介でした。抽出は、文字