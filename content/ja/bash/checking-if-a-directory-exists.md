---
title:    "Bash: ディレクトリが存在するかどうかのチェック"
keywords: ["Bash"]
editURL:  "https://github.com/dogweather/forkful/blob/master/content/ja/bash/checking-if-a-directory-exists.md"
---

{{< edit_this_page >}}

## なぜ

ディレクトリが存在するかどうかをチェックする理由は、プログラミングの中でよく使われるタスクの1つです。例えば、ディレクトリを作成したり、ファイルを読み書きしたりする前にディレクトリが存在するかどうかを確認する必要があります。

## 方法

Bashプログラミングでは、ディレクトリが存在するかどうかを確認するために、「-d」オプションを使用します。ここでは、その使用方法をいくつかのコーディング例と共に説明します。

``` Bash
# 単純にディレクトリが存在するかどうかを確認する場合
if [ -d /path/to/directory ]; then
  echo "ディレクトリが存在します。"
fi
```

``` Bash
# ディレクトリが存在しない場合の条件分岐
if [ ! -d /path/to/directory ]; then
  echo "ディレクトリが存在しません。"
fi
```

``` Bash
# 変数を使用してディレクトリの存在を確認する場合
path="/path/to/directory"
if [ -d "$path" ]; then
  echo "ディレクトリが存在します。"
fi
```

上記の例では、ディレクトリパスの前に「-d」オプションを付けることで、そのディレクトリが存在するかどうかを確認しています。存在する場合は「if」のブロックが実行され、存在しない場合は「else」のブロックが実行されます。また、変数を使用してディレクトリパスを指定する場合は、変数をダブルクォーテーションで囲むことで、空白を含むパスも正しく処理されます。

## 深堀り

ディレクトリが存在するかどうかをチェックする際に使用される「-d」オプションは、実は「test」コマンドの一部です。そのため、先ほどの「[ ]」（ブラケット）は、実際には「test」コマンドのエイリアスとして解釈されます。また、「-d」以外にも、ディレクトリの存在を確認するための他のオプションもあります。

さらに、Bashの「stat」コマンドを使用することで、より詳細な情報（パーミッションや所有者など）を取得することが可能です。例えば、「stat -c %F /path/to/directory」というコマンドを実行することで、そのディレクトリが実際にディレクトリであるかどうかをテストし、ファイルであれば「file」、シンボリックリンクであれば「link」を出力します。

## 参考リンク

- [Bashでディレクトリが存在するかどうかを確認する](https://www.tecmint.com/check-if-directory-exists-in-linux/)
- [testコマンドのマニュアル](https://linuxjm.osdn.jp/html/GNU_coreutils/coreutils_single-6.html)
- [statコマンドのマニュアル](https://ss64.com/bash/stat.html)