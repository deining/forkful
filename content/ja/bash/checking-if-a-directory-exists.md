---
title:    "Bash: ディレクトリが存在するかどうかを確認する"
keywords: ["Bash"]
---

{{< edit_this_page >}}

##なぜ
ディレクトリが存在するかどうかを確認する理由は、ファイルを作成または変更する前に、既存のファイルを保護するためです。また、スクリプトを実行する前に、必要なファイルがあるかどうかを確認することもできます。

##方法
Bashでディレクトリが存在するかどうかを確認するには、コマンドラインに以下を入力します。

```
if [ -d ディレクトリ名 ]; then
  echo "ディレクトリは存在します"
else
  echo "ディレクトリは存在しません"
fi
```

確認したいディレクトリ名を`ディレクトリ名`の部分に置き換えます。例えば、`Documents`ディレクトリが存在するかどうかを確認する場合は、以下のように入力します。

```
if [ -d Documents ]; then
  echo "Documentsディレクトリは存在します"
else
  echo "Documentsディレクトリは存在しません"
fi
```

もしディレクトリが存在しない場合は、「`ディレクトリは存在しません`」と表示されます。もしディレクトリが存在する場合は、「`ディレクトリは存在します`」と表示されます。

##ディープダイブ
ディレクトリが存在するかどうかを確認するための条件式は`-d`です。この条件式は、ファイルやディレクトリが存在する場合に正しい値（ゼロ）を、存在しない場合に誤った値（1）を返します。`if`文はこの値を確認し、正しい値（ゼロ）の場合は`then`以下のコマンドを実行し、誤った値（1）の場合は`else`以下のコマンドを実行します。

`-d`以外にも、ファイルの存在を確認するための条件式として`-f`や、実行可能ファイルの存在を確認するための条件式として`-x`などがあります。これらを組み合わせて使用することで、より複雑な条件式を作成することができます。

##参考
- [条件式を使用してファイルが存在するかどうかを確認する](https://www.atmarkit.co.jp/ait/articles/1611/25/news020.html)
- [説明 / チュートリアルでのフロー制御の文](https://wiki.bash-hackers.org/commands/builtin/if)
- [Bashスクリプトで存在チェックを行う方法](https://qiita.com/azusanakano/items/837aa3be27fd06ff934c)