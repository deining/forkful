---
title:                "Bash: 「csvの取り扱い」"
simple_title:         "「csvの取り扱い」"
programming_language: "Bash"
category:             "Bash"
tag:                  "Data Formats and Serialization"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ja/bash/working-with-csv.md"
---

{{< edit_this_page >}}

本記事では、Bashプログラミングを始める際にCSVファイルを使用する方法を紹介します。CSV（Comma Separated Values）とは、コンマで区切られたテキストファイルのことで、データを表形式で保存するのに便利です。プログラマーであれば、CSVファイルを使用する機会が多いことでしょう。では、なぜCSVファイルを使うのか見ていきましょう。

## なぜCSVファイルを使うのか

CSVファイルは、データを保存するのに非常に便利です。テキスト形式なので、様々なプログラム言語で簡単に読み込むことができます。また、データを表形式で保存することができるため、データを扱いやすく、処理もしやすいです。よく使われるデータ形式の一つであり、プログラマーにとっては欠かせないものと言えるでしょう。

## CSVファイルを使う方法

まずは、CSVファイルを作成してみましょう。テキストエディターを使って、下記のような内容を持つファイルを作成してください。

```Bash
名前,年齢,性別
太郎,20,男性
花子,25,女性
次郎,18,男性
```

これがCSVファイルの基本的な形式です。コンマで区切られたそれぞれのデータが表形式で保存されています。では、実際にBashでこのCSVファイルを扱ってみましょう。

```Bash
#!/bin/bash
CSV_FILE="sample.csv"
IFS="," #データをコンマで区切るよう設定
while read name age gender; do
    printf "名前：%s、年齢：%s、性別：%s\n" "$name" "$age" "$gender"
done < "$CSV_FILE"
```

上記のコードでは、まずファイルの場所を示す変数を設定しています。そして、`IFS`という特殊変数を使用して、コンマで区切るよう設定しています。次に、`while`ループを使用して、行ごとにデータを読み込み、名前、年齢、性別をそれぞれ変数に保存しています。最後に、`printf`を使って、それぞれのデータを表示しています。

実行結果は以下のようになります。

```
名前：太郎、年齢：20、性別：男性
名前：花子、年齢：25、性別：女性
名前：次郎、年齢：18、性別：男性
```

これを見ると、BashでCSVファイルを扱うことができることがわかりますね。

## CSVファイルの詳細情報

CSVファイルは非常に便利ですが、注意すべきポイントもあります。例えば、データ内にコンマが入ってしまうと、正しくデータを取得できないことがあります。そのため、データにコンマが含まれる場合は、データ全体を"ダブルクォーテーション"で囲うようにしましょう。また、データに改行が含まれると、意図しない動作をする場合があります。そのため、改