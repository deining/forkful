---
title:                "C#: 標準エラーへの書き込み"
simple_title:         "標準エラーへの書き込み"
programming_language: "C#"
category:             "C#"
tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ja/c-sharp/writing-to-standard-error.md"
---

{{< edit_this_page >}}

## なぜ

プログラミングを行う上で、エラーは避けて通ることができません。しかし、エラーが発生したときに、しっかりと原因を特定し、改善するためには、エラーを適切に表示することが重要です。そのために、プログラマーは標準エラーに書き込むことが必要となります。

## 方法

標準エラーに書き込むためには、C#言語で提供されているConsoleクラスを使用します。以下のコード例では、標準エラーに"エラーが発生しました"というメッセージを書き込んでいます。

```C#
Console.Error.WriteLine("エラーが発生しました");
```

上記のコードを実行すると、コンソール画面ではなく、エラー画面にメッセージが表示されることに気づくかもしれません。これは、標準出力と標準エラーの挙動が異なるためです。標準出力は通常コンソール画面に表示されますが、標準エラーはエラー画面に表示されます。そのため、プログラマーは標準エラーに書き込むことで、エラーが発生した際に確実にプログラムの実行を止めることができるようになります。

また、標準エラーに書き込む方法は標準出力と同じように、Consoleクラスのメソッドを使用することができます。例えば、標準エラーに数値を書き込む場合は、Console.Error.Writeメソッドを使用します。

```C#
int errorNumber = 404;
Console.Error.Write(errorNumber);
```

上記のコードを実行すると、エラー画面に404という数字が表示されます。

## ディープダイブ

標準エラーへの書き込みは、デバッグ作業やエラーのトラッキングには欠かせないものです。しかし、もっと深く理解したい方のために、ここでは標準エラーに関連するいくつかの重要なポイントを紹介します。

まず、標準エラーを利用する際に気をつけるべき点が2つあります。1つ目は、標準エラーに書き込むメッセージの長さに制限があることです。そのため、長いメッセージを書き込む場合は、適切に改行して表示する必要があります。

2つ目は、標準エラーを利用する際には、必ずエラー画面が存在することを前提とする必要があります。例えば、コマンドラインでプログラムを実行する場合は問題ありませんが、GUIでプログラムを実行する場合は、エラー画面が表示されない可能性があります。

また、標準エラーに書き込まれたメッセージが表示される場所は、プログラムによって異なることにも注意が必要です。一般的には、コンソール画面やエラー画面に表示されますが、プログラムがWebサーバー上で実行される場合は、ログ