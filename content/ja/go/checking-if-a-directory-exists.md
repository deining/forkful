---
title:    "Go: 「ディレクトリが存在するかどうかの確認」"
keywords: ["Go"]
editURL:  "https://github.com/dogweather/forkful/blob/master/content/ja/go/checking-if-a-directory-exists.md"
---

{{< edit_this_page >}}

## なぜ

一般的なプログラミングの世界で、ディレクトリが存在するかどうかを確認することは非常に重要です。特に、Goプログラムでは、ファイルやデータを処理する際にディレクトリが存在するかどうかを確認する必要があります。したがって、ディレクトリの存在をチェックすることは、プログラムの正しい動作を保証する上で欠かせません。

## 方法

ディレクトリの存在を確認する方法は、Go言語では非常に簡単です。以下のコードを使用することで、ディレクトリが存在するかどうかを確認することができます。

```Go
package main
import (
	"fmt"
	"os"
)
func main() {
	// 存在を確認したいディレクトリを指定する
	dir := "./sample_dir"
	// ディレクトリが存在するかどうかを確認する
	if _, err := os.Stat(dir); os.IsNotExist(err) {
		fmt.Println("ディレクトリは存在しません。")
	} else {
		fmt.Println("ディレクトリは存在します。")
	}
}
```

上記のコードでは、まず目的のディレクトリを`dir`変数に指定します。次に、`os.Stat()`関数を使用してディレクトリの情報を取得し、`IsNotExist()`関数を使用してディレクトリが存在するかどうかを確認します。ディレクトリが存在しない場合は、`os.IsNotExist()`関数は`true`を返します。そうでない場合は、`false`を返します。

## ディープダイブ

ディレクトリが存在するかどうかを確認するために使用した`os.Stat()`関数は、ディレクトリの情報を取得するためだけではありません。この関数は、ファイルやシンボリックリンクの情報も取得することができます。また、`os.Stat()`関数を使用することで、ディレクトリの作成日時、更新日時、アクセス日時などの情報も取得することができます。

さらに、`os.Stat()`関数はエラーを返すことがあります。例えば、パーミッションによってディレクトリにアクセスできない場合や、ディレクトリが存在しない場合などです。そのため、このエラーを適切にハンドリングすることが重要です。

## 参考リンク

- [Go言語公式ドキュメント - os.Stat](https://golang.org/pkg/os/#Stat)
- [Go言語でディレクトリの存在を確認する方法](https://qiita.com/taizo/items/8913d81b0344a6e67b85)