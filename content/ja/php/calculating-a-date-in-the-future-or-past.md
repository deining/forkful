---
title:    "PHP: 未来または過去の日付の計算"
keywords: ["PHP"]
---

{{< edit_this_page >}}

## なぜ日付を未来や過去に計算するのか

プログラミングをしていると、現在の日付から未来や過去の日付を計算する必要がある場面があります。例えば、ユーザーの誕生日から年齢を計算する際や、ある日付から1週間後の日付を求める時などが挙げられます。このような場合、日付を計算することで必要な情報を得ることができます。

## 計算方法

日付を計算するには、PHPのdate()関数を使用します。この関数は引数として受け取ったフォーマットに基づいて日付をフォーマットして返してくれます。例えば、以下のコードを実行すると、現在の日付から1週間後の日付が表示されます。

```PHP
<?php

// 現在の日付から1週間後の日付を求める
$date = date("Y-m-d", strtotime("+1 week"));

echo $date; // 出力結果：2020-08-20
```

このように、date()関数に引数を与えることで、未来や過去の日付を簡単に計算することができます。

## 日付を計算する上でのポイント

日付を計算する際に注意しなければいけないポイントとして、閏年や時差などの影響が挙げられます。例えば、2020年2月29日から1年後の日付を求める場合、単純に365日を足してしまうと2021年3月1日になってしまいます。しかし、2021年は閏年ではないため、正しい日付は2021年2月28日になります。

また、時差が影響する場合もあります。例えば、日本とアメリカのサーバーを使用する場合、日付を表示する際にタイムゾーンを意識しなければなりません。このような細かな部分にも注意して日付を計算することが大切です。

## 詳細について

日付を計算する際には、PHPのdate()関数の他にもCarbonやDateTimeなどのライブラリを使用することもできます。これらのライブラリを使用することで、より簡単に日付を計算することができるため、開発効率を向上させることができます。

また、時差やタイムゾーンを意識する際には、PHPのdate_default_timezone_set()関数を使用することで、必要なタイムゾーンを設定することができます。詳細な話題は専門的な内容になるため、詳しく知りたい方はPHPの日付関数についてのドキュメントを参照してください。

## 参考リンク

- [PHPの日付関数についてのドキュメント](https://www.php.net/manual/ja/book.datetime.php)
- [Carbon公式ドキュメント](https://carbon.nesbot.com/docs/)
- [DateTime公式ドキュメント](https://www.php.net/manual/ja/datetimeinterface.format.php)
- [date_default_timezone_set()関数について](https://www.php.net/manual/ja/function.date-default-timezone-set.php)

## 関連リンク

- [PHPで日付を文字列に変換する方法](https://www.code-academy.info/889/)