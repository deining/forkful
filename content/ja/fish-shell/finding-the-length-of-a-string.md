---
title:    "Fish Shell: 「文字列の長さを求める」"
keywords: ["Fish Shell"]
---

{{< edit_this_page >}}

## なぜ

あなたが何らかのプログラミング言語を学ぶとき、一般的には変数やリストなど、基本的な構文とデータ型について学ぶことが必要です。しかし、コードを書く上で文字列を扱うこともとても重要です。文字列には特定の操作を行う際に長さを知る必要があるため、文字列の長さを取得する方法を学ぶことはとても役に立ちます。

## 使い方

まずは、実際にFish Shellで文字列の長さを取得する方法を見ていきましょう。以下のコード例を参考にしてください。

```Fish Shell
set string 'こんにちは'
echo (string-length $string)
```

このコードを実行すると、コマンドラインに"5"と表示されます。つまり、文字列"こんにちは"の長さは5文字であることが分かります。

文字列の長さを取得するために使用しているのは、Fish Shellの組み込み関数の一つである"string-length"です。引数には取得したい文字列を指定します。上記の例では、変数"$string"に文字列"こんにちは"を代入していますが、直接文字列を指定しても問題ありません。また、スペースや特殊文字も文字としてカウントされます。

このように、Fish Shellでは簡単に文字列の長さを取得することができます。

## ディープダイブ

文字列の長さを取得する方法をさらに詳しく知りたい方に向けて、以下では"string-length"関数のより深い情報をお伝えします。

まず、"string-length"関数はバイト数で長さを取得します。そのため、英数字だけで構成される文字列の場合は文字数とバイト数が一致しますが、日本語や中国語などマルチバイト文字を含む場合は異なる結果が返される場合があります。その際は、"string-bytes"関数を使用することでバイト数を取得することができます。

また、"string-length"関数は文字列の長さを取得するだけで、文字列を変更することはありません。そのため、文字列を別の変数に代入したり、文字列を操作する際には新しい変数を作成する必要があります。

最後に、Fish Shellでは文字列の長さだけでなく、文字列内の特定の文字の個数を取得する関数も用意されています。その中でも、"string-count"関数は指定した文字の個数を返すため、文字列内の特定の文字の出現頻度を知るのに便利です。

## その他のリンク

- [Fish Shellの組み込み関数 - 公式ドキュメント (英語)](https://fishshell.com/docs/3.0/cmds.html#string-length)
- [Fish Shellのチートシート - ASCII.jp (日本語)](https://ascii.jp/elem/000/000/365/365034/)
- [String Length Counter - Online Tool (英語)](https://www.lettercount.com/)