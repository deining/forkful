---
title:    "Fish Shell: テキストの検索と置換"
keywords: ["Fish Shell"]
---

{{< edit_this_page >}}

## なぜ
テキストの検索と置換に取り組む理由を1-2文で説明します。

テキストの検索と置換は非常に便利なプログラミングのテクニックです。特定のパターンに一致する文書全体のテキストを一度に置換することができるため、一つずつ変更するよりもはるかに効率的です。また、複数のファイルに対して一括で置換することも可能です。これにより、複数のファイルに同じ変更を加える必要がある場合でも手間を省けます。

## 使い方
```Fish Shell
# 検索と置換
sed -i 's/古いテキスト/新しいテキスト/g' 置換対象のファイル名
```
このコマンドは、`置換対象のファイル名`内のすべての `古いテキスト` を `新しいテキスト` に置換します。また、`-i` オプションを付けることで、ファイル内の変更を直接保存することができます。

また、特定のファイルだけでなく、ディレクトリ内のすべてのファイルに対して一括で置換を行うこともできます。例えば、次のコマンドを使用することで、`置換対象のディレクトリ` 内のすべてのファイルに対して、`古いテキスト` を `新しいテキスト` に置換することができます。

```Fish Shell
# ディレクトリ内のすべてのファイルに対して一括置換
grep -rl '古いテキスト' 置換対象のディレクトリ | xargs sed -i 's/古いテキスト/新しいテキスト/g'
```

## 深く掘り下げる
テキストの検索と置換は、正規表現を使用することでさらに柔軟に行うことができます。例えば、`置換対象のファイル名` 内の 3桁の数字のみを含む行を `###` に置換するには、次のようにコマンドを実行できます。

```Fish Shell
# 正規表現を使用した検索と置換
sed -E -i 's/[0-9]{3}/###/g' 置換対象のファイル名
```

また、Fish Shell の `string replace` コマンドを使用することで、より簡単に文字列を置換することができます。例えば、次のようにコマンドを実行することで、ファイル内の `古いテキスト` を `新しいテキスト` に置換することができます。

```Fish Shell
# string replace を使用した検索と置換
string replace 古いテキスト 新しいテキスト -- 置換対象のファイル名 > 置換後のファイル名 && mv 置換後のファイル名 置換対象のファイル名
```

## 併せて参照
[Fish Shell 公式サイト](https://fishshell.com/)
[Linux コマンドの検索と置換について](https://www.oreilly.co.jp/library/4873119105