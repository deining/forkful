---
title:                "テキストファイルの読み込み"
html_title:           "Python: テキストファイルの読み込み"
simple_title:         "テキストファイルの読み込み"
programming_language: "Python"
category:             "Python"
tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ja/python/reading-a-text-file.md"
---

{{< edit_this_page >}}

## なぜ

ななさ読み込みファイルのプログラムすることは、データを読み込み、処理するために非常に便利です。

## 使い方

Pythonの `open()` 関数を使用すると、テキストファイルを開き、内容を読み込むことができます。

```
file = open("textfile.txt", "r")
```

ファイルを開く際には、ファイルのパスと読み込みモード（今回は`r`で読み込みモードを指定）を指定する必要があります。

次に、ファイルからデータを読み込みます。ファイルの内容を一行ずつ読み込むには、 `readline()` 関数を使用します。

```
line = file.readline()
```

一行ずつ読み込まれたデータは、文字列として変数 `line` に格納されます。これを繰り返し処理することで、ファイルの全ての内容を読み込むことができます。

```
while line:
    print(line)
    line = file.readline()
```

また、ファイルの全ての内容を一度に読み込むには、 `read()` 関数を使用します。

```
data = file.read()
```

これは、ファイルの内容を一つの文字列として返します。`read()` 関数を使用する際は、ファイルのサイズが大きい場合は注意が必要です。

ファイルを開いたら、必ず `close()` 関数を使用してファイルを閉じてください。また、ファイルを開く際は、エラーが発生する可能性もあるため、 `try-except` 文を使用してエラー処理を行うことも重要です。

## ディープダイブ

Pythonの `open()` 関数の詳細について、より深く説明します。

まず、`open()` 関数の第二引数に指定する読み込みモードは以下のようになります。

- `r`：読み込みモード。ファイルが存在しない場合はエラーが発生します。
- `w`：書き込みモード。ファイルが存在しない場合は新しく作成され、既存のファイルは上書きされます。
- `a`：追記モード。ファイルが存在しない場合は新しく作成され、既存のファイルの末尾に追加されます。
- `x`：作成モード。ファイルが存在する場合はエラーが発生します。
- `t`：テキストモード。デフォルトではバイナリモードでファイルが開かれます。
- `b`：バイナリモード。

また、ファイルを開く際にエンコーディングを指定することもできます。これは、ファイルの文字コードを指定するものです。デフォルトでは、システムのデフォルトエンコーディングが使用されますが、 `encoding` 引数を使用して指定することもできます。

```
file = open("textfile.txt", "r", encoding="utf-8")
```

さらに、`open()` 関数の代わりに `with` 文を使用することで、ファイルを読み込んだり書き換えたりした後に自動的にファイルを閉じることができます。

```
with open("