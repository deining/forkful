---
title:                "Java: 「テキストの検索と置換」"
simple_title:         "「テキストの検索と置換」"
programming_language: "Java"
category:             "Java"
tag:                  "Strings"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ja/java/searching-and-replacing-text.md"
---

{{< edit_this_page >}}

こんにちは、Javaプログラマーの皆さん。今日は、テキストの検索と置換についてお話ししたいと思います。Javaでテキストを編集する場合、よく必要になる作業ですよね。では、なぜこの作業をするのかご存知でしょうか？

## なぜ
テキストの検索と置換は、文字列を簡単に変更するための便利な方法です。大量のテキストを手作業で変更するよりも、プログラムを使って自動的に変換する方が効率的です。また、同じ文字列を複数の場所で使っている場合に、一括で変更することができるので便利です。

## 方法
さて、実際にコードを書いていきましょう。Javaでは、次のような方法でテキストの検索と置換ができます。

```Java
String text = "今日はいい天気です。";
String result = text.replaceAll("いい", "素晴らしい");
System.out.println(result);
```

このコードを実行すると、出力は次のようになります。

```
今日は素晴らしい天気です。
```

また、正規表現を使ってパターンマッチングを行うこともできます。例えば、次のようなコードを書くことで、メールアドレスの形式で記述されたテキストを全て"***@***"に置き換えることができます。

```Java
String text = "メールアドレスはxxx@xxx.comです。";
String result = text.replaceAll("[\\w.%+-]+@[\\w.-]+\\.[\\w]{2,4}", "***@***");
System.out.println(result);
```

この場合の出力は、次の通りです。

```
メールアドレスは***@***です。
```

## 深堀り
検索と置換のより詳しい情報を知るには、Javaの正規表現パターンを学ぶことが重要です。正規表現を使うことで、検索パターンをより柔軟に指定することができます。また、Stringクラスの`replaceAll()`メソッドを使う代わりに、`Pattern`と`Matcher`のクラスを使うことで、より細かい制御が可能になります。

```
電話番号は (0123) 456-7890 です。
電話番号は(321)987-6543 です。
電話番号は(098)765-4321です。
```

このようなテキストがあるとき、括弧を消してハイフンを入れて電話番号を整形するには、次のような正規表現を使うことができます。

```Java
String text = "電話番号は (0123) 456-7890 です。電話番号は(321)987-6543 です。電話番号は(098)765-4321です。";
String result = text.replaceAll("\\((\\d{4})\\)\\s*(\\d{3})-(\\d{4})", "$1-$2-$3");
System.out.println(result);
```

このコードでは、`()`で括られた4桁の数字をグループ化して、ハイフンで区切ることで整形しています。出力は次のようになります。

```
電話番号は0123-456-7890 です。電話番号は321-987-6543 です。電話番号は098-765-4321です。
``