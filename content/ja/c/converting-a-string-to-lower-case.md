---
title:                "C: 文字列を小文字に変換する"
simple_title:         "文字列を小文字に変換する"
programming_language: "C"
category:             "C"
tag:                  "Strings"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ja/c/converting-a-string-to-lower-case.md"
---

{{< edit_this_page >}}

こんにちは、プログラマーの皆さん！私たちの日常のプログラミングには、文字列を変換する必要がある場面がよくありますよね。例えば、ユーザーからの入力を処理する際に、大文字や小文字の違いを気にすることがあります。今回は、C言語で文字列を小文字に変換する方法についてお話しします。

## Why
文字列を小文字に変換する理由は、様々あります。大文字と小文字を区別する必要がない場合や、検索機能を実装する際に文字列を統一する必要がある場合には、文字列を小文字に変換することが便利です。また、プログラムの一貫性を保つためにも、文字列を小文字に統一することが重要です。

## How To
簡単なコード例を見て、文字列を小文字に変換する方法を見てみましょう。

```C
#include <stdio.h>
#include <string.h>
#include <ctype.h>

int main(){
    char str[] = "Hello, World!";
    int length = strlen(str);

    // 文字列を小文字に変換するループ
    for(int i = 0; i < length; i++){
        str[i] = tolower(str[i]);
    }

    // 変換後の文字列を出力
    printf("変換後の文字列: %s", str);
    return 0;
}
```

上記のコードでは、`tolower()`関数を使って文字列を小文字に変換しています。この関数は、引数として渡した文字を小文字に変換してくれます。

このコードを実行すると、以下のような結果が得られます。

```
変換後の文字列: hello, world!
```

簡単ですね！ただし、このコードではアルファベットのみが変換されます。もし、日本語のように全角文字や記号も含まれている場合は、`isalpha()`関数を使って条件分岐をする必要があります。また、ポインタを使って文字列を書き換える方法や、別の変数に変換後の文字列を代入する方法もあります。詳しくは、C言語の関数やポインタの仕組みを学ぶと良いでしょう。

## Deep Dive
文字列を小文字に変換する方法について、さらに深く掘り下げてみましょう。まず、`tolower()`関数は、`ctype.h`ヘッダーファイルに含まれている関数であることがわかります。このヘッダーファイルには、文字の種類を判定する関数や、文字を変換する関数が多数定義されています。`tolower()`関数以外にも、`toupper()`や`isalpha()`、`isdigit()`などがあります。

また、C言語では文字列を表すのにchar型の配列を使いますが、実際には文字がASCIIコードとして表されています。ASCIIコードでは、大文字と小文字の文字はそれぞれ別のコードを持っています。そのため、小文字に変換したい場合は、大文字のASCIIコードから32を引くことで実現できます。`tolower()`関数は、この計算を自動的に行ってくれるため、文字を1つずつチェックしながら変換する必要がありません。

## See Also
も