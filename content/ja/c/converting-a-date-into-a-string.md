---
title:    "C: 日付を文字列に変換する"
keywords: ["C"]
---

{{< edit_this_page >}}

# なぜこんなことをするのか

「日付を文字列に変換する」という作業は、プログラミングの世界では非常に一般的です。例えば、データベースに日付を保存する際には、文字列に変換する必要があります。また、プログラムが日付を扱う際にも、文字列として表現することが多いでしょう。そのため、日付を文字列に変換する方法を知っておくことは、プログラミングにおいて非常に重要なスキルです。

## 方法

まず、日付を文字列に変換する際には、フォーマットを指定する必要があります。これは、文字列に変換したい日付の書式を指定することで、例えば「2022年6月15日」という日付を「2022-06-15」のような特定の書式に変換することができます。

では、C言語で実際に日付を文字列に変換する方法を見ていきましょう。下記のコード例には、C言語の標準ライブラリである<time.h>を使用して、現在の日付を文字列に変換する方法が示されています。

```C
#include <stdio.h>
#include <time.h>

int main()
{
    char buf[80];
    time_t now = time(NULL); // 現在の日時を取得
    strftime(buf, sizeof(buf), "%Y-%m-%d", localtime(&now)); // フォーマットを指定して日付を文字列に変換
    printf("今日の日付は: %s", buf);
    return 0;
}
```

上記のコードを実行すると、以下のような出力が得られます。

```
今日の日付は: 2022-06-15
```

このように、<time.h>ライブラリのstrftime関数を使用することで、日付を指定した書式に変換することができます。

## ディープダイブ

日付を文字列に変換する方法を詳しく説明する前に、まずは文字列に変換する必要がある理由について紹介します。プログラムが扱う日付データは、コンピュータの内部では数値として表現されます。しかし、ユーザにとっては「年月日」というような形で表示してほしいという要求がある場合もあります。そのため、日付を文字列に変換することで、数値を分かりやすい形で表示することができるのです。

さらに、日付を文字列に変換する際には、地域や言語によっても書式が異なる場合があります。例えば、アメリカでは「月/日/年」の順番で日付を表記するのに対し、日本では「年/月/日」のように異なります。そのため、プログラムを国際化する際にも、日付を文字列に変換する方法は非常に重要な役割を果たします。

## さらに参考になる情報

- [C言語の<time.h>ライブラリの仕様](http://www.c-tipsref.com/reference/ctime/index.html)
- [strftime関数の詳細](https://dev.w3.org/libwww/Library/User/Programming/C/strftime.html)

# 関連情報を見る

## 関連リンク

- [C言