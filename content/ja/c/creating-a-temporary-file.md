---
title:    "C: 一時ファイルを作成する"
keywords: ["C"]
---

{{< edit_this_page >}}

[Why (なぜ): テンポラリファイルを作成する理由]

プログラミングでテンポラリファイルを作成することは、一時的なデータやファイルを保存するための便利な方法です。例えば、ユーザーの入力やプログラムの実行中に必要な一時的な情報を保存する場合などに使用されます。テンポラリファイルを使用することで、プログラムの動作をスムーズにすることができます。

[How To (作り方): テンポラリファイルを作成する方法]

テンポラリファイルを作成するには、まずはヘッダーファイルをインクルードします。

```c
#include <stdio.h>
#include <stdlib.h>

int main()
{
    // ここにコードを記述

    return 0;
}
```

次に、ファイルポインタを宣言し、fopen関数を使用してファイルを開きます。ファイル名としてNULLポインタを渡すことで、プログラムが自動的に一時的なファイルを生成します。

```c
FILE *fp;
fp = fopen(NULL, "w+");
```

ファイルを書き込むには、fprintf関数を使用します。

```c
fprintf(fp, "Hello, World!");
```

最後に、ファイルを閉じてメモリを解放します。

```c
fclose(fp);
```

テンポラリファイルが作成されました。以下はサンプルコードの実行結果です。

```
Hello, World!
```

[Deep Dive (詳細解説): テンポラリファイルの作成の仕組み]

一時的なファイルは、プログラムが終了すると自動的に削除されます。また、一時的なファイルには一意のファイル名が与えられます。通常、テンポラリファイルは/tmpフォルダーに保存されます。

テンポラリファイルを作成する際に指定するオプションには、"w+"と"r+"の二つがあります。"w+"は読み込みと書き込みが可能なファイルを作成し、既存の同名のファイルが存在する場合は上書きします。一方、"r+"は読み込みと書き込みが可能なファイルを開き、既存の同名のファイルが存在する場合はファイルの末尾にデータを追加します。

また、テンポラリファイルを作成する際に一時的なファイル名を指定することもできます。この場合、プログラムが終了するとファイルは削除されませんので、明示的に削除する必要があります。

[See Also (参考リンク)]

- [C言語のファイル操作](https://www.sejuku.net/blog/8551)
- [fclose関数の仕様](http://www.c-tipsref.com/reference/stdio/fclose.html)
- [テンポラリファイルの作成](https://www.mactech.net/827/?p=97)

以上で、C言語におけるテンポラリファイルの作成についての解説を終わります。是非、実際にコードを書いて試してみてください。