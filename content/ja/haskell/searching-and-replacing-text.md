---
title:    "Haskell: テキストの検索と置換"
keywords: ["Haskell"]
---

{{< edit_this_page >}}

## なぜ

テキストの検索と置換を行うことは、プログラミングの基本的なスキルです。テキストエディタやIDE内で文字列を検索して置き換える必要がある場合や、大量のファイルで同じ文字列を一括で置換する必要がある場合には特に重要です。このプログラミング技術を学ぶことで、作業効率を向上させることができます。

## 使い方

テキストの検索と置換を行うためには、Haskellのテキスト処理ライブラリにある`sub`関数を使用します。この関数は、検索したい文字列、置換したい文字列、そして対象となるテキストを引数として受け取ります。

```Haskell
import Text.Regex

sub :: ByteString -> ByteString -> ByteString -> ByteString
```

具体的な例を見てみましょう。以下のような文字列があったとします。

```Haskell
sampleText = "今日は暑すぎて色々とミスしちゃった。明日は晴れるといいな。"
```

まず、`今日`を`明日`に置換してみましょう。

```Haskell
sub "今日" "明日" sampleText
```

出力結果は以下のようになります。

```Haskell
"明日は暑すぎて色々とミスしちゃった。明日は晴れるといいな。"
```

次に、`いいな`を`いいね`に置換してみましょう。

```Haskell
sub "いいな" "いいね" sampleText
```

出力結果は以下のようになります。

```Haskell
"今日は暑すぎて色々とミスしちゃった。明日は晴れるといいね。"
```

さらに、正規表現を使用してパターンマッチングを行うこともできます。例えば、`今日`で始まる文字列を`今日は`に置換する場合、以下のように書くことができます。

```Haskell
sub "今日(.+)" "今日は\\1" sampleText
```

出力結果は以下のようになります。

```Haskell
"今日は暑すぎて色々とミスしちゃった。今日は晴れるといいな。"
```

## 深堀り

テキストの検索と置換を行う際に、正規表現を使用することでより柔軟な操作が可能になります。正規表現を使用することで、複雑なパターンにマッチする文字列を一括で置換することができます。また、正規表現を学ぶことで、プログラミングの幅がさらに広がります。

## 参考リンク

- [Haskellのテキスト処理ライブラリ](https://hackage.haskell.org/package/regex-base)
- [正規表現チュートリアル](https://www.regular-expressions.info/tutorial.html)
- [正規表現のデモサイト](https://regex101.com/)