---
title:    "Bash: 표준 에러에 쓰기"
keywords: ["Bash"]
---

{{< edit_this_page >}}

## 왜

일반적으로 우리는 쉘 스크립트를 사용하여 스크립트를 실행하고 필요한 출력을 화면에 표시합니다. 하지만 때로는 오류 메시지 또는 디버그 정보와 같은 추가 정보를 보여주는 것이 좋을 때가 있습니다. 이때 우리는 *표준 에러*에 메시지를 출력합니다.

## 방법

먼저, 우리는 `echo` 명령어를 사용하여 일반적인 출력을 표시할 수 있습니다. 하지만 이는 표준 출력에 출력되는 것이므로, 표준 에러에 출력하려면 `echo` 명령어 앞에 `>&2`를 추가해야 합니다. 다음은 예시 코드와 그 출력입니다.

```Bash
# 에러 메시지 출력하기
echo "이것은 표준 출력입니다." 
echo "이것은 표준 에러입니다." >&2

# 출력
이것은 표준 출력입니다.
이것은 표준 에러입니다.
```

또 다른 방법은 `&1`을 사용하여 표준 출력을 표준 에러로 리디렉션하는 것입니다. 이 경우, 별도의 `echo` 명령어를 사용하지 않아도 됩니다.

```Bash
# 에러 메시지 출력하기
echo "이것은 표준 출력입니다." &> /dev/null 
echo "이것은 표준 에러입니다." >&1

# 출력
이것은 표준 에러입니다.
```

## 깊이 파고들기

표준 에러를 사용하는 이유는 크게 두 가지가 있습니다. 첫째, 사용자에게 일반적인 출력과는 별도로 오류 메시지를 표시할 수 있어서 디버깅에 도움이 됩니다. 둘째, 파이프라인을 사용하여 서로 다른 명령어를 연결할 때, 오류가 발생하면 이를 별도로 처리할 수 있습니다.

`$?` 변수를 사용하면 이전 명령어의 종료 코드를 확인할 수 있습니다. 이는 `if` 문에서 사용되어 명령어가 성공적으로 실행되었는지 여부를 확인하는 데 유용합니다. 예를 들어, `grep` 명령어는 찾는 결과가 없으면 종료 코드 1을, 오류가 발생하면 종료 코드 2를 반환합니다. 이를 이용해 특정 문자열을 포함하는지 확인하거나 오류가 발생했는지 여부를 확인할 수 있습니다.

## 또 보기

- [Bash 오류 처리하기](https://ryanstutorials.net/bash-scripting-tutorial/bash-error-handling.php)
- [쉘 스크립트 비교하기](https://www.shellscript.sh/)

---

## 참고 자료

- [Bash 에러 메시지 출력하기](https://www.baeldung.com/linux/bash-error-messages)