---
title:    "TypeScript: 디렉토리가 존재하는지 확인하는 방법"
keywords: ["TypeScript"]
---

{{< edit_this_page >}}

## 왜

디렉토리가 존재하는지 확인하는 것이 중요한 이유는 파일 및 폴더를 관리하고 조작하기 위해서입니다. 만약 존재하지 않는 디렉토리를 조작한다면, 우리는 공백 파일이 만들어지거나 사용자의 시스템에 문제를 일으킬 수 있습니다. 이러한 이유로, 정확한 디렉토리가 존재하는지 확인하는 것은 프로그래밍에서 매우 중요합니다.

## 하는 방법

```TypeScript
import fs from 'fs';

const dirPath = /home/user/mydirectory;

// 디렉토리가 존재하는지 확인하기
fs.access(dirPath, (err) => {
  if (err) {
    console.log(`${dirPath} 디렉토리가 존재하지 않습니다.`);
    // 디렉토리를 생성하기
    fs.mkdir(dirPath, (err) => {
      if (err) {
        console.log('디렉토리를 생성하는 데 실패했습니다.');
      } else {
        console.log(`${dirPath} 디렉토리가 생성되었습니다.`);
      }
    });
  } else {
    console.log(`${dirPath} 디렉토리가 이미 존재합니다.`);
  }
});
```

위의 코드에서 우리는 fs 모듈을 이용하여 디렉토리의 존재 여부를 확인하고, 디렉토리를 생성하는 예시를 볼 수 있습니다. 먼저, 디렉토리가 존재하는지 fs.access() 함수를 이용하여 확인합니다. 만약 에러가 발생한다면, 존재하지 않는 디렉토리이므로 새로운 디렉토리를 생성합니다. 그렇지 않다면 이미 존재하는 디렉토리이므로 아무 작업도 수행하지 않습니다.

대부분의 경우, 우리는 디렉토리를 조작하는 것보다는 존재하는지 확인하는 것이 더 중요할 수 있습니다. 이를 위해 fs.existsSync() 함수를 이용할 수도 있지만, 이 함수는 동기적으로 실행되므로 프로그램의 효율성에 영향을 미칠 수 있습니다. 따라서 fs.access() 함수를 이용하는 것이 권장되며, 비동기적으로 실행되므로 해당 디렉토리의 존재 여부를 확인하는 과정에서 다른 작업도 수행할 수 있습니다.

## 깊이 파보기

fs.access() 함수는 디렉토리의 존재 여부를 확인하는 가장 일반적이고 간단한 방법입니다. 그러나 실제로는 더 복잡하고 다양한 방법들이 존재합니다. 예를 들어, 특정 디렉토리에 대한 사용 권한을 확인하는 방법이나 윈도우 환경에서의 디렉토리 이름 변환 등 다양한 옵션들이 존재합니다.

또한, 특정 디렉토리에 대한 깊이 있는 검사를 수행할 수도 있습니다. 예를 들어, 하위 디렉토리를 모두 검사하는 것이나 특정 패턴을 가지고 있는 파일들을 찾는 것 등 다양한 검사 및 조작 방식이 존재합니다.

그리고 정확한 디렉토리의 경로나 이름을 파악하는 것도 중요합니다. 프로그램에서 디렉토리의 경로를 유동적으로 받아오거나 생성하는 경우에