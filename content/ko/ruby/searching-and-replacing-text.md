---
title:    "Ruby: 텍스트 찾기와 대체"
keywords: ["Ruby"]
---

{{< edit_this_page >}}

## 왜?

텍스트를 검색하고 바꾸는 방법은 프로그래밍에서 매우 중요합니다. 이를 통해 특정 유형의 데이터를 찾아서 수정할 수 있고, 여러 개의 파일에서 일괄적으로 변경할 수 있습니다.

## 방법

검색 및 바꾸기를 수행하기 위해서는 Ruby의 `gsub` 메서드를 사용합니다. 이 메서드는 문자열에서 지정된 패턴을 검색하고 해당 패턴을 바꿀 수 있습니다. 예를 들어, 다음과 같이 작성할 수 있습니다.

```Ruby
text = "안녕하세요! 반가워요!"
puts text.gsub("반가워요", "만나서 반가워요") 
```

출력:

```Ruby
안녕하세요! 만나서 반가워요!
```

여기에서 `gsub` 메서드는 `text` 문자열에서 "반가워요"를 찾고 "만나서 반가워요"로 바꿉니다. 이를 통해 쉽게 텍스트를 변경할 수 있습니다.

여러 개의 파일에서 일괄적으로 텍스트를 바꿀 수도 있습니다. 예를 들어, `Dir.glob` 메서드를 사용하여 특정 디렉토리에서 파일의 목록을 가져올 수 있으며, `File.read`와 `File.write` 메서드를 사용하여 파일에서 텍스트를 읽고 쓸 수 있습니다. 이를 통해 다양한 파일에서 일괄적으로 텍스트를 변경할 수 있습니다.

```Ruby
files = Dir.glob("*.txt")
files.each do |file|
  text = File.read(file)
  new_text = text.gsub("반가워요", "만나서 반가워요")
  File.write(file, new_text)
end
```

이를 통해 모든 `txt` 파일에서 "반가워요"를 "만나서 반가워요"로 변경할 수 있습니다.

## 딥 다이브

`gsub` 메서드에 대해 더 알아보겠습니다. 이 메서드는 두 개의 매개변수를 받습니다. 첫 번째 매개변수는 찾을 패턴이며, 두 번째 매개변수는 바꿀 문자열입니다. 이 메서드를 사용할 때 몇 가지 옵션을 추가할 수도 있습니다.

첫 번째 옵션은 `ignorecase`입니다. 이 옵션을 사용하면 대소문자를 구분하지 않고 패턴을 검색하고 바꿀 수 있습니다.

```Ruby
text = "Hello, Ruby!"
puts text.gsub("hello", "Hi") 
```

출력:

```Ruby
Hello, Ruby!
```

이 경우 "hello"와 "Hello"는 서로 다른 문자열로 간주되기 때문에 "hello"를 "Hi"로 바꾸지 않습니다. 하지만 `ignorecase` 옵션을 사용하면 다음과 같이 대소문자를 구분하지 않고 "hello"를 "Hi"로 바꿀 수 있습니다.

```Ruby
text = "Hello, Ruby!"
puts text.gsub("hello", "Hi", ignorecase: true) 
```

출력:

```Ruby
Hi, Ruby!
```

두 번째 옵션은 `count`입니다. 이 옵션을 사용하면 변경할 횟수를 제한할 수 있습니다. 예를 들어, 다음과 같이 작성할 수 있습니다.

```Ruby
text = "하나, 둘, 하나, 둘, 하나, 둘"
puts text.gsub("하나", "1", count: 2)
```

출력:

```Ruby
1, 둘, 1, 둘, 하나, 둘
```

이 경우 "하나"를 최대 2회까지만 "1"로 바꾸었습니다.

## 또 다른 참고 자료

-