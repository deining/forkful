---
title:    "Ruby: 임시 파일 생성"
keywords: ["Ruby"]
---

{{< edit_this_page >}}

# 왜

일시적인 파일을 만드는 것에 착수하는 이유는 간단합니다. 일시적인 파일은 우리가 코드를 실행하는 동안 필요한 데이터를 저장할 수 있는 효율적인 방법을 제공합니다. 따라서 대용량의 데이터를 다룰 때 유용하며 코드의 실행 속도를 높일 수 있습니다.

## 어떻게

```Ruby
# 일시적인 파일을 생성할 때는 tempFile이라는 변수명을 사용합니다.
# 아래의 예제는 100개의 랜덤 숫자를 일시적인 파일에 쓰는 코드입니다.
tempFile = Tempfile.new("temp")

# tempFile을 쓰기 모드로 열고 랜덤 숫자를 파일에 기록합니다.
tempFile.open
100.times do
    tempFile.puts rand(1..100)
end

# 작업이 끝난 후 파일을 닫습니다.
tempFile.close

# 파일의 내용을 읽고 출력합니다.
puts "일시적인 파일에 저장된 랜덤 숫자:\n"
puts File.read(tempFile)
```

위의 코드를 실행하면 아래와 같은 결과가 나옵니다.

```bash
일시적인 파일에 저장된 랜덤 숫자:
1
91
5
74
...
85
```

## 심층 분석

일시적인 파일을 생성할 때 알아둬야 할 몇 가지 중요한 사실이 있습니다.

첫째, 일시적인 파일은 운영체제에 따라 다양한 경로에 생성될 수 있으며 일반적으로 임시 디렉토리에 저장됩니다.

둘째, 일시적인 파일은 다 사용한 후에는 반드시 지워야 합니다. 그렇지 않으면 운영체제에 따라서는 파일이 계속 쌓이면서 에러가 발생할 수 있습니다.

셋째, 일시적인 파일의 이름은 매번 다르기 때문에 그 이름을 알아내는 것은 불가능합니다. 따라서 파일을 생성할 때 변수명을 사용하는 것이 좋습니다.

# 더 알아보기

* [Ruby 공식 문서 - Tempfile 클래스 (영문)](https://ruby-doc.org/stdlib-2.5.3/libdoc/tempfile/rdoc/Tempfile.html)
* [Ruby 한국 커뮤니티 - 일시적인 파일 생성하기 (한글)](https://ruby-korea.github.io/ruby-ko/advanced/tmpfile.html)