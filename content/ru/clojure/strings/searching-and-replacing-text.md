---
changelog:
- 2024-01-29, gpt-4-0125-preview, translated from English
date: 2024-01-29 00:02:26.578077-07:00
description: "\u041A\u0430\u043A \u044D\u0442\u043E \u0441\u0434\u0435\u043B\u0430\
  \u0442\u044C: \u0412 Clojure \u0434\u043B\u044F \u043F\u043E\u0438\u0441\u043A\u0430\
  \ \u0438 \u0437\u0430\u043C\u0435\u043D\u044B \u0442\u0435\u043A\u0441\u0442\u0430\
  \ \u043C\u044B \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u043C \u0444\
  \u0443\u043D\u043A\u0446\u0438\u044E `clojure.string/replace`. \u0414\u0430\u0432\
  \u0430\u0439\u0442\u0435 \u0441\u0440\u0430\u0437\u0443 \u043F\u0435\u0440\u0435\
  \u0439\u0434\u0435\u043C \u043A \u043A\u043E\u0434\u0443."
lastmod: '2024-03-13T22:44:44.322695-06:00'
model: gpt-4-0125-preview
summary: "\u0412 Clojure \u0434\u043B\u044F \u043F\u043E\u0438\u0441\u043A\u0430 \u0438\
  \ \u0437\u0430\u043C\u0435\u043D\u044B \u0442\u0435\u043A\u0441\u0442\u0430 \u043C\
  \u044B \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u043C \u0444\u0443\
  \u043D\u043A\u0446\u0438\u044E `clojure.string/replace`."
title: "\u041F\u043E\u0438\u0441\u043A \u0438 \u0437\u0430\u043C\u0435\u043D\u0430\
  \ \u0442\u0435\u043A\u0441\u0442\u0430"
weight: 10
---

## Как это сделать:
В Clojure для поиска и замены текста мы используем функцию `clojure.string/replace`. Давайте сразу перейдем к коду:

```clojure
(require '[clojure.string :as str])

;; Базовая замена
(str/replace "I like apples" "apples" "oranges")
;; => "I like oranges"

;; Использование регулярного выражения для замены всех гласных
(str/replace "Hello, World!" "[AEIOUaeiou]" "*")
;; => "H*ll*, W*rld!"

;; Замена с функцией для динамических изменений
(str/replace "I have 2 apples and 5 bananas"
             #"\d+"
             (fn [match] (str (inc (Integer/parseInt match)))))
;; => "I have 3 apples and 6 bananas"
```

Всё просто. Запустите это, и вы сразу увидите преобразования прямо в вашем REPL.

## Подробнее
Поиск и замена текста – это не новинка. Это старые вычислительные технологии. Мы унаследовали их от ранних редакторов, таких как `sed` в Unix. С тех пор мы проделали долгий путь.

Clojure, работающий на JVM, означает, что у вас под капотом есть мощь регулярных выражений Java. С точки зрения производительности, это прекрасно для быстрых скриптов, но помните, что чрезмерное использование при масштабной обработке текста может снизить производительность.

Что касается альтернатив, помимо `clojure.string/replace`, есть библиотеки, основанные на регулярных выражениях, или даже написание вашей собственной функции, если вы чувствуете в себе смелость. Подумайте о `replace-first`, если вам нужно однократное изменение.

С функциональной точки зрения, подход Clojure к неизменяемости означает, что каждая замена приводит к созданию новой строки. Отсутствие изменяемых строк означает меньше ошибок и сюрпризов.

## Смотрите также
Чтобы углубиться, ознакомьтесь с этими ресурсами:

- Документация API `clojure.string` Clojure [API documentation](https://clojuredocs.org/clojure.string/replace)
- О регулярных выражениях, класс Java [Pattern class](https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html)
