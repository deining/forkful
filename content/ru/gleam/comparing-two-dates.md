---
title:                "Сравнение двух дат"
date:                  2024-01-28T23:56:12.795774-07:00
model:                 gpt-4-0125-preview
simple_title:         "Сравнение двух дат"
programming_language: "Gleam"
category:             "Gleam"
tag:                  "Dates and Times"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/gleam/comparing-two-dates.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Сравнение двух дат - это проверка того, как они соотносятся во времени. Программисты делают это для сортировки событий, реализации расписаний или проверки периодов.

## Как:

В Gleam мы используем библиотеку `gleam/calendar` для работы с датами. К сожалению, на момент моего последнего обновления знаний в начале 2023 года, в Gleam нет встроенного способа напрямую сравнивать даты, как это могут делать некоторые другие языки. Так что, хотя это и не plug-and-play, с помощью пары функций мы можем начать сравнивать даты.

Для начала давайте убедимся, что мы можем создать несколько дат:

```gleam
import gleam/calendar.{Date}

pub fn make_date(year: Int, month: Int, day: Int) -> Option(Date) {
  calendar.new_date(year, month, day)
}
```

Теперь напишем функцию для сравнения двух дат. Мы можем преобразовать даты в сравнимый формат - например, количество дней с заданной даты. Но поскольку это простой пример, давайте просто сделаем базовую проверку, чтобы увидеть, предшествует ли одна дата другой:

```gleam
import gleam/calendar.{Date, is_before}

pub fn is_date1_before_date2(date1: Date, date2: Date) -> Bool {
  is_before(date1, date2)
}
```

Пример использования:

```gleam
import gleam/io

fn main() {
  let date1 = make_date(2023, 3, 14)
  let date2 = make_date(2021, 6, 18)
  
  let result = case date1 {
    Ok(d1) -> case date2 {
      Ok(d2) -> is_date1_before_date2(d1, d2)
      Error(_) -> False
    }
    Error(_) -> False
  }
  
  io.debug(result) // Должно напечатать True, потому что date1 после date2
}
```

## Подробнее

Исторически, API для работы с датой/временем различаются в зависимости от языка, некоторые предоставляют мощные операторы сравнения, другие требуют ручных расчетов. При сравнении дат многие языки преобразуют их в стандартизированную форму, например, в Unix-время (секунды с 1 января 1970 года), которое можно напрямую сравнивать. Однако, частные случаи, такие как високосные секунды или переход на летнее время, могут добавить сложности.

В Gleam, из-за акцента языка на безопасности и надежности, операции с датами могут быть менее простыми, но направлены на то, чтобы быть корректными без неявных предположений. Вот почему здесь вы можете не найти однострочный способ выполнения этой задачи, но с правильной обработкой дат с помощью модуля `calendar`, вы можете справиться хорошо.

В качестве альтернативы, можно написать более сложные функции, которые сравнивают год, затем месяц, затем день, если необходим более детальный контроль или пока прямая поддержка сравнения дат действительно не будет добавлена в Gleam. И наконец, всегда следите за обновлениями языка; Gleam развивается быстро, и после моего последнего обновления знаний могут появиться новые функции.

## См. также

- Для общего руководства по языку Gleam, посетите: [https://gleam.run](https://gleam.run).
- Для дилемм о работе с датой и временем в программировании и их решениях, прочтите [https://yourcalendricalfallacyis.com/](https://yourcalendricalfallacyis.com/).
