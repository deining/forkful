---
title:                "Расчет даты в будущем или прошлом"
date:                  2024-01-28T23:55:57.021541-07:00
model:                 gpt-4-0125-preview
simple_title:         "Расчет даты в будущем или прошлом"
programming_language: "Gleam"
category:             "Gleam"
tag:                  "Dates and Times"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/gleam/calculating-a-date-in-the-future-or-past.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Зачем?
Расчёт будущей или прошлой даты означает выяснение, какой будет дата через или до определенного времени. Программисты делают это для таких вещей, как планирование событий, обновление подписок или установка срока действия.

## Как:
Gleam не поставляется со встроенной библиотекой для работы с датой/временем, поэтому мы будем использовать библиотеку `chronotope` для работы с датами и временем. Сначала добавьте `chronotope` в ваш `gleam.toml`:

```toml
[dependencies]
chronotope = "~> 0.4"
```

Теперь давайте проведем некоторые расчёты дат:

```gleam
import chronotope
import chronotope.duration
import chronotope.date

fn calculate_date() {
  let now = chronotope.now()
  let two_weeks = duration.of_weeks(2)
  let future_date = date.add(now, two_weeks)
  let past_date = date.subtract(now, two_weeks)
  future_date, past_date
}

fn main() {
  let (future, past) = calculate_date()
  io.println(future)
  io.println(past)
}
```

Запустите его:

```bash
$ gleam run
```

Пример вывода может быть:

```
2023-04-28
2023-03-31
```

## Подробнее
В вычислениях, манипулирование датами является частью более широкой области временных баз данных и данных, основанных на времени. В 1970-х годах, когда основной опорой были мейнфреймы, точное отслеживание даты и времени уже было необходимо для таких функций, как планирование задач.

Что касается альтернатив, хотя `chronotope` является надежным выбором в Gleam, другие языки могут использовать стандартные библиотеки, такие как `datetime` в Python или объект `Date` в JavaScript. Реализация в разных языках различается, но в основном они рассчитывают даты, манипулируя миллисекундами с момента известной эпохи (обычно 1 января 1970 года, UTC).

Под капотом, `chronotope` управляет датами как структурами и выполняет расчеты, преобразуя интервалы в совместимую единицу (например, секунды или дни), выполняя математические операции над ними и преобразуя их обратно в структуру даты или времени. Этот процесс учитывает особенности календарей и часовых поясов, которые не всегда линейны или последовательны из-за високосных лет, перехода на летнее время и других аномалий.

## См. также
- [Временные базы данных на Википедии](https://en.wikipedia.org/wiki/Temporal_database)
- [История устройств для измерения времени](https://en.wikipedia.org/wiki/History_of_timekeeping_devices)
