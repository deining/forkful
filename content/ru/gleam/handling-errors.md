---
title:                "Обработка ошибок"
date:                  2024-01-28T23:58:48.172868-07:00
model:                 gpt-4-0125-preview
simple_title:         "Обработка ошибок"
programming_language: "Gleam"
category:             "Gleam"
tag:                  "Good Coding Practices"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/gleam/handling-errors.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?
Обработка ошибок заключается в антиципации ситуаций, когда что-то может пойти не так в вашем коде, и в управлении этими ситуациями с достоинством. Программисты делают это, потому что это делает приложения надежными и удобными для пользователя, даже когда возникают неожиданности.

## Как:
В Gleam вы часто будете использовать тип `Result` для обработки ошибок. Это перечисление с двумя вариантами: `Ok` (для успеха) и `Error` (для неудачи). Вот простой пример:

```Gleam
pub fn might_fail(break_it: Bool) -> Result(Int, String) {
  if break_it {
    Error("Упс! Сломалось.".to_string())
  } else {
    Ok(42)
  }
}

pub fn main() {
  let result = might_fail(False)
  case result {
    Ok(value) => value
    Error(message) => {
      io.println(message)
      0
    } 
  }
}
```

Если вы запустите `main` с `might_fail(False)`, он вернет `42`. Если передать `True`, он напечатает "Упс! Сломалось." и вернет `0`.

## Погружение
Подход Gleam к обработке ошибок подчеркивается его корнями в Erlang. Исторически, Erlang использует философию "позволь ему упасть", полагаясь на деревья надзора для управления сбоями процессов. Однако, когда вы пишете код на Gleam, который не находится в процессе, предназначенном для надзора, например, в функции библиотеки, вы хотели бы явно обрабатывать ошибки.

Альтернативы использованию `Result` включают использование типа `Option` для случаев, когда что-то может быть `None` (ничего) или `Some` (что-то), но эти не переносят информацию об ошибке. Для сигнализирования об ошибках через границы процессов вы можете использовать механизмы передачи сообщений Erlang.

Обработка ошибок в Gleam отражает стиль функционального программирования, где побочные эффекты (такие как ошибки) управляются с помощью типов и сопоставления с образцом, обеспечивая ясность и предсказуемость в управлении ошибками.

## См. также
- [Обработка ошибок в Erlang](http://erlang.org/doc/reference_manual/errors.html)
