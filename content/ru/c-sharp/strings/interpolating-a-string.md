---
title:                "Интерполяция строки"
date:                  2024-02-25T17:06:55.797409-07:00
model:                 gpt-4-0125-preview
changelog:
  - 2024-02-25, OpenAIModel.GPT_4_TURBO, translated from English
---

{{< edit_this_page >}}

## Что и Почему?
Интерполяция строк в C# позволяет создавать новую строку, включая выражения непосредственно в строковом литерале, что упрощает форматирование и конкатенацию строк. Программисты используют эту функцию для повышения читаемости и поддерживаемости кода, особенно при работе с динамичным содержимым строк.

## Как это сделать:
В C#, интерполяция строк обозначается знаком доллара (`$`), за которым следует строковый литерал. Имена переменных или выражения заключаются в фигурные скобки (`{}`).

```csharp
string name = "Jane";
int age = 28;
string interpolatedString = $"Привет, {name}! Тебе {age} лет.";
Console.WriteLine(interpolatedString);
// Вывод: Привет, Jane! Тебе 28 лет.
```

В более сложном примере вы можете выполнять операции или вызывать методы внутри фигурных скобок:

```csharp
double price = 19.99;
int quantity = 3;
string orderDetail = $"Общая цена: {price * quantity:C2}";
Console.WriteLine(orderDetail);
// Вывод: Общая цена: $59.97
```
Спецификатор формата `:C2` внутри фигурных скобок форматирует число как денежную сумму с двумя десятичными знаками.

В сценариях, требующих более продвинутого форматирования или локализации, вы можете рассмотреть возможность использования метода `string.Format` или библиотеки, такой как Humanizer. Humanizer может манипулировать и отображать строки, даты, времена, временные интервалы, числа и количества в более удобочитаемом формате. Ниже приведен пример использования Humanizer для сложной манипуляции со строками. Обратите внимание, что Humanizer не является частью стандартной библиотеки .NET и требует установки пакета NuGet `Humanizer`.

Сначала установите Humanizer через NuGet:

```
Install-Package Humanizer
```

Затем вы можете использовать его следующим образом:

```csharp
using Humanizer;

int dayDifference = 5;
string humanized = $"Событие было {dayDifference} дня назад.".Humanize();
Console.WriteLine(humanized);
// В зависимости от настройки и культуры, возможный вывод: Событие было 5 дней назад.
```

Этот пример демонстрирует базовое использование. Humanizer поддерживает широкий спектр функциональных возможностей, которые могут быть применены к строкам, датам, числам и другому, делая ваши приложения более доступными и интуитивно понятными.
