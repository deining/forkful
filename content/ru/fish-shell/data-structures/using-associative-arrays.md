---
changelog:
- 2024-01-30, gpt-4-0125-preview, translated from English
date: 2024-01-30 19:11:09.927084-07:00
description: "\u041A\u0430\u043A: Fish \u0438\u0437\u043D\u0430\u0447\u0430\u043B\u044C\
  \u043D\u043E \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\
  \u0430\u0435\u0442 \u0430\u0441\u0441\u043E\u0446\u0438\u0430\u0442\u0438\u0432\u043D\
  \u044B\u0435 \u043C\u0430\u0441\u0441\u0438\u0432\u044B, \u043A\u0430\u043A Bash\
  \ 4+, \u043D\u043E \u043C\u043E\u0436\u043D\u043E \u0434\u043E\u0441\u0442\u0438\
  \u0447\u044C \u043F\u043E\u0434\u043E\u0431\u043D\u043E\u0439 \u0444\u0443\u043D\
  \u043A\u0446\u0438\u043E\u043D\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u0438,\
  \ \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044F \u043A\u043E\u043C\u0431\
  \u0438\u043D\u0430\u0446\u0438\u044E \u0441\u043F\u0438\u0441\u043A\u043E\u0432\
  \ \u0438\u2026"
lastmod: '2024-03-13T22:44:45.823326-06:00'
model: gpt-4-0125-preview
summary: "Fish \u0438\u0437\u043D\u0430\u0447\u0430\u043B\u044C\u043D\u043E \u043D\
  \u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\
  \ \u0430\u0441\u0441\u043E\u0446\u0438\u0430\u0442\u0438\u0432\u043D\u044B\u0435\
  \ \u043C\u0430\u0441\u0441\u0438\u0432\u044B, \u043A\u0430\u043A Bash 4+, \u043D\
  \u043E \u043C\u043E\u0436\u043D\u043E \u0434\u043E\u0441\u0442\u0438\u0447\u044C\
  \ \u043F\u043E\u0434\u043E\u0431\u043D\u043E\u0439 \u0444\u0443\u043D\u043A\u0446\
  \u0438\u043E\u043D\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u0438, \u0438\u0441\
  \u043F\u043E\u043B\u044C\u0437\u0443\u044F \u043A\u043E\u043C\u0431\u0438\u043D\u0430\
  \u0446\u0438\u044E \u0441\u043F\u0438\u0441\u043A\u043E\u0432 \u0438 \u043C\u0430\
  \u043D\u0438\u043F\u0443\u043B\u044F\u0446\u0438\u0439 \u0441\u043E \u0441\u0442\
  \u0440\u043E\u043A\u0430\u043C\u0438."
title: "\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u0435\
  \ \u0430\u0441\u0441\u043E\u0446\u0438\u0430\u0442\u0438\u0432\u043D\u044B\u0445\
  \ \u043C\u0430\u0441\u0441\u0438\u0432\u043E\u0432"
weight: 15
---

## Как:
Fish изначально не поддерживает ассоциативные массивы, как Bash 4+, но можно достичь подобной функциональности, используя комбинацию списков и манипуляций со строками. Вот как можно имитировать их:

Сначала настройте элементы "ассоциативного массива" отдельно:

```Fish Shell
set food_color_apple "red"
set food_color_banana "yellow"
```

Чтобы получить доступ к элементу, просто обратитесь к нему напрямую:

```Fish Shell
echo $food_color_apple
# Вывод: red
```

Если вам нужно итерироваться по ним, используйте цикл-for, учитывая соглашение об именовании:

```Fish Shell
for food in apple banana
    echo $food_color_$food
end
# Вывод:
# red
# yellow
```

Для тех, кому не хватает возможности Bash `${!array[@]}` для получения всех ключей, вы можете хранить ключи в отдельном списке:

```Fish Shell
set food_keys apple banana

for key in $food_keys
    echo $key 'is' $food_color_$key
end
# Вывод:
# apple is red
# banana is yellow
```

## Погружение
Полноценные ассоциативные массивы, как в других языках сценариев, пока не являются частью подхода Fish. Предложенное решение использует возможности манипуляции со строками и списками Fish для создания псевдо-ассоциативной структуры массива. Хотя это работает, это не так чисто или защищено от ошибок, как было бы с встроенной поддержкой ассоциативных массивов. Другие оболочки, такие как Bash и Zsh, предоставляют встроенную функциональность ассоциативных массивов, что приводит к более простому и понятному коду. Однако философия дизайна Fish стремится к простоте и дружелюбности к пользователю, возможно, за счет таких функций. Предложенное решение удовлетворяет большинство потребностей, но следите за эволюцией Fish Shell — его разработчики активно улучшают и добавляют функции на основе отзывов сообщества.
