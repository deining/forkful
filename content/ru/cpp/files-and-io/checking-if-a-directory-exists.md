---
changelog:
- 2024-01-28, gpt-4-0125-preview, translated from English
date: 2024-01-28 23:56:19.793330-07:00
description: "\u041A\u0430\u043A: \u041D\u0430\u0447\u0438\u043D\u0430\u044F \u0441\
  \ C++17, \u0443 \u043D\u0430\u0441 \u0435\u0441\u0442\u044C `std::filesystem`, \u043A\
  \u043E\u0442\u043E\u0440\u044B\u0439 \u043E\u0431\u043B\u0435\u0433\u0447\u0430\u0435\
  \u0442 \u0436\u0438\u0437\u043D\u044C \u043F\u0440\u0438 \u0440\u0430\u0431\u043E\
  \u0442\u0435 \u0441 \u0444\u0430\u0439\u043B\u043E\u0432\u043E\u0439 \u0441\u0438\
  \u0441\u0442\u0435\u043C\u043E\u0439. \u0412\u043E\u0442 \u0444\u0440\u0430\u0433\
  \u043C\u0435\u043D\u0442 \u043A\u043E\u0434\u0430 \u0434\u043B\u044F \u043F\u0440\
  \u043E\u0432\u0435\u0440\u043A\u0438 \u043D\u0430\u043B\u0438\u0447\u0438\u044F\u2026"
lastmod: '2024-03-13T22:44:45.633753-06:00'
model: gpt-4-0125-preview
summary: "\u041D\u0430\u0447\u0438\u043D\u0430\u044F \u0441 C++17, \u0443 \u043D\u0430\
  \u0441 \u0435\u0441\u0442\u044C `std::filesystem`, \u043A\u043E\u0442\u043E\u0440\
  \u044B\u0439 \u043E\u0431\u043B\u0435\u0433\u0447\u0430\u0435\u0442 \u0436\u0438\
  \u0437\u043D\u044C \u043F\u0440\u0438 \u0440\u0430\u0431\u043E\u0442\u0435 \u0441\
  \ \u0444\u0430\u0439\u043B\u043E\u0432\u043E\u0439 \u0441\u0438\u0441\u0442\u0435\
  \u043C\u043E\u0439."
title: "\u041F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u0441\u0443\u0449\u0435\u0441\
  \u0442\u0432\u043E\u0432\u0430\u043D\u0438\u044F \u0434\u0438\u0440\u0435\u043A\u0442\
  \u043E\u0440\u0438\u0438"
weight: 20
---

## Как:
Начиная с C++17, у нас есть `std::filesystem`, который облегчает жизнь при работе с файловой системой. Вот фрагмент кода для проверки наличия директории:

```C++
#include <iostream>
#include <filesystem>

int main() {
    std::filesystem::path dir_path{"./some_directory"};

    bool exists = std::filesystem::exists(dir_path);
    if(exists) {
        std::cout << "Директория существует." << std::endl;
    } else {
        std::cout << "Директория не существует." << std::endl;
    }

    return 0;
}
```

Пример вывода (если директория существует):
```
Директория существует.
```

Или (если директории не существует):
```
Директория не существует.
```

## Погружение
До C++17 нам приходилось полагаться на платформоспецифические вызовы API или сторонние библиотеки. В API Windows мы могли использовать `GetFileAttributes` и проверять, было ли возвращаемое значение `INVALID_FILE_ATTRIBUTES`. В системах POSIX мы могли использовать функцию `stat()` для аналогичной функциональности.

C++17 изменил правила игры с `std::filesystem`. Он предоставляет кроссплатформенную поддержку и высокоуровневый интерфейс для взаимодействия с файловой системой. Функция `exists()` - это простой способ проверки существования директории, но вы также можете использовать `is_directory()`, если хотите не только подтвердить наличие, но и убедиться, что путь указывает на директорию, а не на файл.

Для альтернативных методов рассмотрите функции `std::filesystem::status_known()` и `std::filesystem::file_status`, чтобы обработать случаи, когда разрешения файлов или другие проблемы могут повлиять на вашу способность определить существование директории.

## Смотрите также
Узнайте больше о операциях с файловой системой в C++:

- [Документация std::filesystem](https://en.cppreference.com/w/cpp/filesystem)
- Для исторического контекста и различий между версиями, смотрите [Историю версий C++](https://en.cppreference.com/w/cpp/compiler_support)
