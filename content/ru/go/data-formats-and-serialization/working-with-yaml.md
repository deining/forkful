---
changelog:
- 2024-02-03, gpt-4-0125-preview, translated from English
date: 2024-02-03 18:14:00.089805-07:00
description: "\u041A\u0430\u043A: \u0427\u0442\u043E\u0431\u044B \u0440\u0430\u0431\
  \u043E\u0442\u0430\u0442\u044C \u0441 YAML \u0432 Go, \u0441\u043D\u0430\u0447\u0430\
  \u043B\u0430 \u0432\u0430\u043C \u043D\u0443\u0436\u043D\u043E \u0438\u043C\u043F\
  \u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0431\u0438\u0431\u043B\
  \u0438\u043E\u0442\u0435\u043A\u0443, \u043F\u043E\u0434\u0434\u0435\u0440\u0436\
  \u0438\u0432\u0430\u044E\u0449\u0443\u044E \u0440\u0430\u0437\u0431\u043E\u0440\
  \ \u0438 \u0441\u0435\u0440\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044E\
  \ YAML, \u043F\u043E\u0441\u043A\u043E\u043B\u044C\u043A\u0443 \u0441\u0442\u0430\
  \u043D\u0434\u0430\u0440\u0442\u043D\u0430\u044F \u0431\u0438\u0431\u043B\u0438\u043E\
  \u0442\u0435\u043A\u0430\u2026"
lastmod: '2024-03-13T22:44:44.149235-06:00'
model: gpt-4-0125-preview
summary: "\u0427\u0442\u043E\u0431\u044B \u0440\u0430\u0431\u043E\u0442\u0430\u0442\
  \u044C \u0441 YAML \u0432 Go, \u0441\u043D\u0430\u0447\u0430\u043B\u0430 \u0432\u0430\
  \u043C \u043D\u0443\u0436\u043D\u043E \u0438\u043C\u043F\u043E\u0440\u0442\u0438\
  \u0440\u043E\u0432\u0430\u0442\u044C \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\
  \u043A\u0443, \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044E\
  \u0449\u0443\u044E \u0440\u0430\u0437\u0431\u043E\u0440 \u0438 \u0441\u0435\u0440\
  \u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044E YAML, \u043F\u043E\u0441\u043A\
  \u043E\u043B\u044C\u043A\u0443 \u0441\u0442\u0430\u043D\u0434\u0430\u0440\u0442\u043D\
  \u0430\u044F \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A\u0430 Go \u043D\
  \u0435 \u0432\u043A\u043B\u044E\u0447\u0430\u0435\u0442 \u043F\u0440\u044F\u043C\
  \u0443\u044E \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0443 \u0434\u043B\
  \u044F YAML."
title: "\u0420\u0430\u0431\u043E\u0442\u0430 \u0441 YAML"
weight: 41
---

## Как:
Чтобы работать с YAML в Go, сначала вам нужно импортировать библиотеку, поддерживающую разбор и сериализацию YAML, поскольку стандартная библиотека Go не включает прямую поддержку для YAML. Самая популярная библиотека для этой цели - "gopkg.in/yaml.v3". Вот как начать:

1. **Установка пакета YAML:**

```bash
go get gopkg.in/yaml.v3
```

2. **Разбор YAML в структуру Go:**

Сначала определите структуру в Go, которая соответствует структуре ваших данных YAML.

```go
package main

import (
  "fmt"
  "gopkg.in/yaml.v3"
  "log"
)

type Config struct {
  Database struct {
    User     string `yaml:"user"`
    Password string `yaml:"password"`
  } `yaml:"database"`
}

func main() {
  var config Config
  data := `
database:
  user: admin
  password: secret
`
  err := yaml.Unmarshal([]byte(data), &config)
  if err != nil {
    log.Fatalf("error: %v", err)
  }
  fmt.Printf("User: %s\nPassword: %s\n", config.Database.User, config.Database.Password)
}
```

**Пример вывода:**

```
User: admin
Password: secret
```

3. **Сериализация структуры Go в YAML:**

Вот как преобразовать структуру Go обратно в YAML.

```go
package main

import (
  "fmt"
  "gopkg.in/yaml.v3"
  "log"
)

func main() {
  config := Config{
    Database: struct {
      User     string `yaml:"user"`
      Password string `yaml:"password"`
    }{
      User:     "admin",
      Password: "supersecret",
    },
  }

  data, err := yaml.Marshal(&config)
  if err != nil {
    log.Fatalf("error: %v", err)
  }
  fmt.Printf("---\n%s\n", string(data))
}
```

**Пример вывода:**

```yaml
---
database:
  user: admin
  password: supersecret
```

## Подробнее:
Использование YAML в разработке программного обеспечения расширилось из-за его формата, удобного для чтения человеком, что делает его идеальным выбором для файлов конфигурации, документации или форматов обмена данными. По сравнению с JSON, его аналогом, YAML предлагает комментарии, скалярные типы и возможности для отображения отношений, обеспечивая более богатый фреймворк сериализации данных. Однако, гибкость и возможности YAML идут в ущерб сложности разбора, что приводит к потенциальным рискам безопасности при неаккуратной обработке (например, выполнение произвольного кода).

Библиотека "gopkg.in/yaml.v3" для Go является надежным решением для обработки YAML, находя баланс между простотой использования и всесторонней поддержкой функций. На текущий момент, хотя есть альтернативы, такие как "go-yaml/yaml" (библиотека за "gopkg.in/yaml.v3"), выбор версии обычно зависит от конкретных требований проекта или личных предпочтений. При работе с огромными наборами данных или приложениями, критичными к производительности, программисты могут рассмотреть более простые форматы, такие как JSON, за их сокращенное время разбора и накладные расходы на память. Тем не менее, для файлов конфигурации или настроек, где важны читаемость и удобство использования для человека, YAML остается сильным конкурентом в экосистеме Go.
