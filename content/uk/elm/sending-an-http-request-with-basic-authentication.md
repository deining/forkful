---
title:                "Elm: Надсилання запиту http з базовою автентифікацією"
simple_title:         "Надсилання запиту http з базовою автентифікацією"
programming_language: "Elm"
category:             "Elm"
tag:                  "HTML and the Web"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/elm/sending-an-http-request-with-basic-authentication.md"
---

{{< edit_this_page >}}

## Чому

Elm - це потужна мова програмування для створення веб-додатків. Однією з ключових функцій Elm є підтримка HTTP запитів. Але чому б вам займатися відправкою HTTP запиту з базовою аутентифікацією? Наприклад, це може бути корисно, якщо ви хочете отримати доступ до захищених даних на сервері або авторизуватися в системі.

## Як це зробити

Для того, щоб відправити HTTP запит з базовою аутентифікацією в Elm, спочатку потрібно імпортувати модуль `Http`. Далі, використовуючи функцію `send`, ми можемо передати об'єкт `Http.request` з необхідними параметрами, такими як метод запиту, URL і заголовки. Для базової аутентифікації, ми додаємо заголовок `Authorization` зі значенням, яке прописується в специфікації HTTP. 
```Elm
Http.send request =
    Http.send (\_ -> request)
```

Заголовок авторизації повинен містити ім'я користувача та пароль, які кодуються у форматі base64. Elm вже має вбудовану функцію `Base64.encode`, яку ми можемо використовувати для цього.

```Elm
authHeader : String -> String -> Header
authHeader username password =
    let
        authString =
            String.join ":" [ username, password ] |> Base64.encode

        value =
            "Basic " ++ authString
    in
        Http.header "Authorization" value
```

Тепер ми можемо використовувати цей заголовок при відправці HTTP запиту з базовою аутентифікацією. Наприклад, якщо ми хочемо отримати список користувачів з нашого серверу, ми можемо скористатися таким кодом:

```Elm
Http.send getUsers =
    Http.send 
        { method = "GET"
        , headers = [ authHeader "myusername" "mypassword" ]
        , url = "https://example.com/users"
        , expect = Http.expectJson (List User) }
```

Як бачимо, ми передали наш заголовок авторизації у властивості `headers` об'єкта запиту. Після виконання запиту, Elm автоматично декодує отримані дані у список користувачів за допомогою функції `expectJson`.

## Глибини

Тепер, коли ми розбираємось у простому використанні базової аутентифікації в Elm, давайте трохи поглибимося у деталі. Важливо знати, що ім'я користувача та пароль надсилатимуться відкрито в мережі, тому цей метод не є надійним з точки зору безпеки. Крім того, Elm не надає підтримку для сертифікатів безпеки, тому важливо б