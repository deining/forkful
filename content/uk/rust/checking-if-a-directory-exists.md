---
title:    "Rust: Перевірка наявності каталогу"
keywords: ["Rust"]
---

{{< edit_this_page >}}

## Чому

Перевірка існування директорії - важлива частина багатьох програм. Вона дозволяє переконатися, що потрібне місце для зберігання файлів існує, і за необхідності створити його. Без перевірки директорії програма може призвести до помилки або неправильно працювати. Тому перевірка директорії є важливою практикою для будь-якого розробника, який зацікавлений у стабільності і коректній роботі своїх програм.

## Як це зробити

Для перевірки існування директорії в Rust ми можемо використати метод `Path::exists()`. Приклад коду:

```Rust
use std::path::Path;

let directory = Path::new("/path/to/directory");
if directory.exists() {
    println!("Директорія існує!");
} else {
    println!("Директорія не існує!");
}
```

Виходячи з прикладу, ми створюємо шлях до директорії за допомогою `Path`, а потім використовуємо метод `exists()` для перевірки існування цього шляху. Якщо директорія існує, ми отримуємо повідомлення "Директорія існує!", в іншому випадку - "Директорія не існує!".

## Детальний аналіз

За замовчуванням, метод `exists()` використовує системний виклик `stat()` для перевірки існування шляху. Це означає, що він надійний і безпечний. Однак, в певних випадках ви можете стикнутися з помилкою "Доступ заборонено" при перевірці шляху до директорії. Це може статися, наприклад, коли у вас недостатньо прав доступу до цієї директорії. У такому разі краще використовувати метод `Path::is_dir()`, який перевіряє, чи є цей шлях директорією без використання системних викликів.

## Дивись також

- [Документація з використання бібліотеки `std::path`](https://doc.rust-lang.org/std/path/index.html)
- [Стаття про перевірку існування директорії в Rust](https://www.educative.io/edpresso/how-to-check-if-a-directory-exists-in-rust)