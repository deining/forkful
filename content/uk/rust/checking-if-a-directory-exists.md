---
title:    "Rust: Перевірка наявності каталогу"
keywords: ["Rust"]
editURL:  "https://github.com/dogweather/forkful/blob/master/content/uk/rust/checking-if-a-directory-exists.md"
---

{{< edit_this_page >}}

## Чому
Перевірка наявності каталогу є важливою для багатьох проектів у мові програмування Rust. Вона дозволяє перевірити, чи існує потрібна нам папка, і виконати необхідні дії в залежності від результату перевірки. Давайте розберемося, як зробити це у нашій програмі.

## Як
Для перевірки наявності каталогу використовується функція `std::fs::metadata()`, яка повертає структуру `std::fs::Metadata`. З цієї структури ми можемо отримати інформацію про файл або каталог, включаючи його назву, розмір, дату створення та інші деталі.

Для перевірки, чи є даний шлях каталогом, використовуємо метод `is_dir()`, який поверне булеве значення `true`, якщо це каталог, або `false`, якщо це файл. Давайте подивимось на наведений код:

```Rust
use std::fs;

fn main() {
    let path = "./my_directory";
    let metadata = fs::metadata(path).expect("Не вдалося отримати метадані");
    
    if metadata.is_dir() {
        println!("Каталог {} існує", path);
    } else {
        println!("Каталог {} не існує", path);
    }
}
```

Запустивши цей код, у випадку, якщо `my_directory` існує, ми побачимо вивід `Каталог ./my_directory існує`. В іншому випадку, якщо каталог не існує, виведеться `Каталог ./my_directory не існує`.

## Deep Dive
Звернімо увагу, що у методі `metadata()` використовується обробка помилок за допомогою метода `expect()`. Це дозволяє обробляти ситуацію, коли каталог не існує, необхідно застосовувати у випадках, коли виконуються додаткові дії, наприклад, створення цього каталогу.

Також важливо зазначити, що метод `metadata()` приймає шлях або шляхову змінну як свій аргумент. Таким чином, ми можемо перевірити наявність будь-якого каталогу за допомогою змінної `path` у нашому прикладі.

## Дивіться також
- [Документація по перевірці наявності каталогу в Rust](https://doc.rust-lang.org/std/fs/fn.metadata.html)
- [Огляд модулю `std::fs` у Rust](https://doc.rust-lang.org/std/fs/index.html)
- [Приклади використання методу `metadata()`](https://stackoverflow.com/questions/27425143/how-do-i-check-for-a-directory-in-rust)

## Дивіться також
- [Документація з перевірки наявності файлу в Rust