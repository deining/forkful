---
date: 2024-01-20 17:41:20.775409-07:00
description: "\u042F\u043A \u0446\u0435 \u0440\u043E\u0431\u0438\u0442\u0438: Rust\
  \ \u0434\u043E\u0437\u0432\u043E\u043B\u044F\u0454 \u043D\u0430\u043C \u0441\u0442\
  \u0432\u043E\u0440\u0438\u0442\u0438 \u0442\u0438\u043C\u0447\u0430\u0441\u043E\u0432\
  \u0438\u0439 \u0444\u0430\u0439\u043B \u0437\u0430 \u0434\u043E\u043F\u043E\u043C\
  \u043E\u0433\u043E\u044E \u0431\u0456\u0431\u043B\u0456\u043E\u0442\u0435\u043A\u0438\
  \ `tempfile`. \u041D\u0438\u0436\u0447\u0435 \u0432\u0438 \u0437\u043D\u0430\u0439\
  \u0434\u0435\u0442\u0435 \u043F\u0440\u0438\u043A\u043B\u0430\u0434 \u0441\u0442\
  \u0432\u043E\u0440\u0435\u043D\u043D\u044F \u0442\u0430 \u043D\u0430\u043F\u0438\
  \u0441\u0430\u043D\u043D\u044F \u0443 \u0442\u0438\u043C\u0447\u0430\u0441\u043E\
  \u0432\u0438\u0439\u2026"
lastmod: '2024-03-13T22:44:48.969662-06:00'
model: gpt-4-1106-preview
summary: "Rust \u0434\u043E\u0437\u0432\u043E\u043B\u044F\u0454 \u043D\u0430\u043C\
  \ \u0441\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0442\u0438\u043C\u0447\u0430\
  \u0441\u043E\u0432\u0438\u0439 \u0444\u0430\u0439\u043B \u0437\u0430 \u0434\u043E\
  \u043F\u043E\u043C\u043E\u0433\u043E\u044E \u0431\u0456\u0431\u043B\u0456\u043E\u0442\
  \u0435\u043A\u0438 `tempfile`."
title: "\u0421\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u0442\u0438\u043C\u0447\
  \u0430\u0441\u043E\u0432\u043E\u0433\u043E \u0444\u0430\u0439\u043B\u0443"
weight: 21
---

## Як це робити:
Rust дозволяє нам створити тимчасовий файл за допомогою бібліотеки `tempfile`. Нижче ви знайдете приклад створення та написання у тимчасовий файл.

```rust
use tempfile::NamedTempFile;
use std::io::{Write, Seek, SeekFrom};

fn main() -> std::io::Result<()> {
    // Створіть новий тимчасовий файл.
    let mut tempfile = NamedTempFile::new()?;

    // Запишіть щось у файл.
    tempfile.write_all(b"Тестовий текст")?;

    // Перейдіть на початок файлу.
    tempfile.seek(SeekFrom::Start(0))?;

    // Файл автоматично видалиться коли `tempfile` покине область видимості.
    Ok(())
}
```

Якщо у вас все вийшло, то програма виконається без помилок, але ви не побачите жодного тексту, тому що файл тимчасовий і буде знищений одразу після закінчення програми.

## Поглиблений Розгляд
Тимчасові файли не новина; вони були в системах UNIX ще з сімдесятих. У Rust, бібліотека `tempfile` використовує унікальні імена для уникнення конфліктів і може створювати файли в стандартній тимчасовій папці системи. Є альтернативи `tempfile`, наприклад, `mkstemp` в С, але `tempfile` забезпечує безпечне API в Rust контексті. Створення тимчасового файлу інкапсулюється в RAII (Resource Acquisition Is Initialization) паттерн в Rust, що означає, що файли будуть автоматично видалені, коли змінна `tempfile` вийде з області видимості, забезпечуючи ефективне управління ресурсами.

## Дивіться Також
- Документація по `tempfile` бібліотеці: [https://docs.rs/tempfile](https://docs.rs/tempfile)
- RAII в Rust: [https://doc.rust-lang.org/book/ch15-03-drop.html](https://doc.rust-lang.org/book/ch15-03-drop.html)
- Rust by Example - TempDir: [https://doc.rust-lang.org/rust-by-example/std_misc/fs.html#tempdir](https://doc.rust-lang.org/rust-by-example/std_misc/fs.html#tempdir)
