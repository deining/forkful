---
title:                "Javascript: Створення тимчасового файлу"
simple_title:         "Створення тимчасового файлу"
programming_language: "Javascript"
category:             "Javascript"
tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/javascript/creating-a-temporary-file.md"
---

{{< edit_this_page >}}

# Чому

Створення тимчасового файлу є інструментом часто використовуваним у програмуванні. Це дозволяє зберігати і обробляти дані у цьому файлі, поки вони потрібні, а потім видаляти його безпосередньо після використання. Це особливо корисно, коли ми працюємо з багатою кількістю даних, які потрібно чистити після завершення обробки.

# Як

Для створення тимчасового файлу в Javascript потрібно використовувати вбудований модуль `fs` (file system). Ми можемо скористатися функцією `tmpfile()`, щоб створити тимчасовий файл у директорії за замовчуванням. Ось приклад коду:

```Javascript
const fs = require('fs');

fs.tmpfile((err, path) => {
  if (err) throw err;

  console.log(`Тимчасовий файл був створений у директорії ${path}`);
});
```

Вивід: `Тимчасовий файл був створений у директорії /tmp/tmp-12345`

Також ми можемо визначити власну директорію для тимчасових файлів, використовуючи параметр `dir` у функції `tmpfile()`. Наприклад:

```Javascript
const fs = require('fs');

fs.tmpfile({ dir: './tmp' }, (err, path) => {
  if (err) throw err;

  console.log(`Тимчасовий файл був створений у директорії ${path}`);
});
```

Вивід: `Тимчасовий файл був створений у директорії ./tmp/tmp-12345`

# Глибоке занурення

Хоча модуль `fs` має функцію `tmpfile()`, але його рекомендовано використовувати лише для дуже простих задач. Якщо нам потрібно більше контролю над тимчасовим файлом, ми можемо використовувати модуль `tmp` з пакету `npm`.

Спочатку нам потрібно встановити модуль `tmp` за допомогою команди `npm install tmp`. Після цього можна створювати тимчасові файли з визначеними параметрами. Нижче приведений приклад коду:

```Javascript
const tmp = require('tmp');

// Визначаємо параметри для тимчасового файлу
const options = {
  // Встановлюємо префікс тимчасового файлу
  prefix: 'tmp-',
  // Вказуємо, що файл повинен бути безпечним
  unsafeCleanup: true,
  // Встановлюємо директорію для тимчасового файлу
  dir: './tmp'
}

// Створюємо тимчасовий файл з параметрами options
tmp.file(options, (err, path, fd) => {
  if (err) throw err;

  console.log(`Тимчасовий файл був створений у директорії ${path}`);
});
```

Вивід