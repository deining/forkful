---
title:                "Перетворення дати в рядок."
html_title:           "Arduino: Перетворення дати в рядок."
simple_title:         "Перетворення дати в рядок."
programming_language: "Arduino"
category:             "Arduino"
tag:                  "Dates and Times"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/arduino/converting-a-date-into-a-string.md"
---

{{< edit_this_page >}}

## Чому

Часто, коли ми працюємо з Arduino, нам потрібно відображати поточну дату на дисплеї або зберігати її в файлі. Для цього необхідно перетворити дату з формату, що зрозумілий для мікроконтролеру, у зрозумілий для людини рядок символів.

## Як

Для перетворення дати в рядок ми будемо використовувати функцію `sprintf()` з бібліотеки `time.h`. Для цього ми спочатку повинні оголосити змінну типу `tm`, яка буде зберігати значення дати.

```Arduino
#include <time.h>

struct tm date; // оголошення змінної типу tm

// отримання поточної дати
getLocalTime(&date); 
```

Після цього ми можемо скористатися функцією `sprintf()` для перетворення дати в рядок. Нижче наведений приклад, який виводить поточну дату у форматі "День/Місяць/Рік".

```Arduino
char str[9]; // оголошення рядка для зберігання дати

sprintf(str, "%02d/%02d/%04d", date.tm_mday, date.tm_mon+1, date.tm_year+1900); // перетворення дати в рядок

Serial.println(str); // виведення рядка в монітор порта
```

Приклад виводу:

```Arduino
27/09/2021
```

## Глибоке занурення

Функція `sprintf()` використовується для форматованого виводу рядків, схожо до функції `printf()` у мові C. Щоб перетворити дату в рядок, ми можемо використовувати спеціальні формати, такі як `%02d` для виведення числа в двоцифровому форматі з нульовим заповненням.

Окрім того, для виведення місяця ми додали до значення `date.tm_mon` одиницю, оскільки в бібліотеці `time.h` місяці нумеруються з нуля.

Детальніше про формати у функції `sprintf()` можна дізнатися у [документації](https://www.cplusplus.com/reference/cstdio/printf/) з мови C.

## Дивіться також

- [Бібліотека `time.h` для Arduino](https://www.arduino.cc/en/Reference/Time)
- [Використання функції `sprintf()`](https://www.arduino.cc/reference/en/language/functions/communication/serial/sprintf/) у мові Arduino