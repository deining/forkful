---
title:    "C: Використання регулярних виразів"
keywords: ["C"]
---

{{< edit_this_page >}}

## Чому

За допомогою звичайних виразів можна значно поліпшити ефективність програмування в С. Ці інструменти дозволяють легко знаходити та змінювати певні текстові шаблони у великих обсягах даних. Також вони стають незамінними при роботі зі строками та введенням користувача.

## Як користуватися

Для початку, звичайні вирази потрібно підключити у С файлі за допомогою директиви `#include <regex.h>`. Далі можна використовувати функції, такі як `regcomp()`, `regexec()` та `regfree()` для компіляції, виконання та звільнення відповідно.

Наприклад, давайте створимо програму, яка перевіряє чи введений рядок є електронною адресою:

```C
#include <stdio.h>
#include <regex.h>

int main() {
   regex_t regex;
   int ret;
   char str[50];
  
   printf("Введіть електронну адресу: ");
   fgets(str, 50, stdin);

   ret = regcomp(&regex, "^[a-zA-Z0-9]+@[a-zA-Z0-9]+.[a-z]{2,3}$", REG_EXTENDED);

   if(ret) {
      fprintf(stderr, "Помилка виразу");
      return 1;
   }

   ret = regexec(&regex, str, 0, NULL, 0);

   if(!ret) {
      printf("Введений рядок є вірною електронною адресою\n");
   }
   else if(ret == REG_NOMATCH) {
      printf("Введений рядок не є електронною адресою\n");
   }
   regfree(&regex);
 
   return 0;
}
```

При введенні адреси `test@example.com` виводиться "Введений рядок є вірною електронною адресою".

## Глибше в деталі

Звичайні вирази у С побудовані на базі POSIX регулярних виразів і мають деякі особливості. Наприклад, символ `^` використовується для початку рядка, а `$` для його кінця. Також існує можливість використовувати різні флаги, наприклад `REG_EXTENDED` для підтримки розширеного синтаксису.

Звичайні вирази можуть бути корисними при фільтрації та перетворенні тексту, валідації введення користувача та в багатьох інших сценаріях. Щоб більш детально ознайомитися з їх можливостями та властивостями, рекомендуємо ознайомитися з документацією та прикладами використання.

## Дивіться також

- [Документація зі звичайних виразів у С](https://www.gnu.org/software/libc/manual/html_node/Regular-Expressions.html)
- [Приклади використання звичайних ви