---
title:    "C: Використання регулярних виразів"
keywords: ["C"]
editURL:  "https://github.com/dogweather/forkful/blob/master/content/uk/c/using-regular-expressions.md"
---

{{< edit_this_page >}}

## Чому

Регулярні вирази є потужним інструментом для роботи з текстом. Вони дозволяють знаходити та замінювати певні шматки тексту за допомогою патернів. Використання регулярних виразів допомагає прискорити процес обробки текстових даних та зробити його більш ефективним.

## Як

У C мові програмування використовуються декілька функцій для роботи з регулярними виразами. Найбільш поширеними є функції `regcomp()`, `regexec()` та `regfree()`. Ось як можна використати ці функції для знаходження та заміни певних шматків тексту за допомогою регулярного виразу:

```C
#include <stdio.h>
#include <regex.h>
int main() {
    // створення змінних
    regex_t regex;
    int ret;
    char str[] = "Це приклад рядка, який ми будемо обробляти.";
    char pattern[] = "рядок";

    // компіляція регулярного виразу
    ret = regcomp(&regex, pattern, 0);
    if (ret) {
        printf("Неможливо скомпілювати регулярний вираз.\n");
        return 1;
    }

    // пошук патерна у рядку
    ret = regexec(&regex, str, 0, NULL, 0);
    if (!ret) {
        printf("Знайдено патерн \"рядок\" у рядку: %s\n", str);
    } else if (ret == REG_NOMATCH) {
        printf("Патерн не знайдено у рядку: %s\n", str);
    } else {
        printf("Неможливо виконати пошук патерна.\n");
        return 1;
    }

    // звільнення пам'яті
    regfree(&regex);
    return 0;
}
```

Вивід програми буде наступним:

```
Знайдено патерн "рядок" у рядку: Це приклад рядка, який ми будемо обробляти.
```

Можна також використовувати регулярні вирази для заміни певних шматків тексту. Наприклад, таким чином можна замінити всі голосні букви у словах на тире:

```C
#include <stdio.h>
#include <regex.h>
int main() {
    // створення змінних
    regex_t regex;
    int ret;
    char str[] = "Це приклад рядка, який ми будемо обробляти.";
    char pattern[] = "[aeiouy]";

    // компіляція регулярного виразу
    ret = regcomp(&regex, pattern, 0);
    if (ret) {
        printf("Неможливо скомпілювати регулярний вираз.\n");
        return 1;
    }

    // заміна шматків тексту за допомогою патерна
    regmatch_t pmatch;
    while ((ret = regexec(&regex, str, 1, &pmatch, 0)) == 0) {
        // заміна голосної букви на тире
        str[pmatch.rm