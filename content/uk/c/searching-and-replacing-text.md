---
title:    "C: Пошук та заміна тексту."
keywords: ["C"]
editURL:  "https://github.com/dogweather/forkful/blob/master/content/uk/c/searching-and-replacing-text.md"
---

{{< edit_this_page >}}

## Чому

Чи сталкивалися ви з ситуацією, коли потрібно замінити певний текст у великому обсязі коду? Можливо, ви хочете перейменувати змінну або виправити орфографію у текстових повідомленнях. У таких випадках, нехай це буде закашлуванням та функціями пошуку та заміни, зробить ваше життя легшим.

## Як

Звичайний спосіб для пошуку та заміни тексту полягає у застосуванні функцій `strstr()` та `str_replace()` у мові С. Першою необхідно визначити позицію шуканого тексту у рядку, а потім використати функцію `str_replace()` для заміни цього тексту на бажаний. Наглядний приклад коду на мові С:

```C
#include <stdio.h>
#include <string.h>

int main()
{
    // вхідний текс
    char str[] = "Привіт, світ!";
    
    // пошук тексту "Привіт"
    char *ptr = strstr(str, "Привіт");
    
    //заміна на "Вітаю"
    char *replace = "Вітаю";
    
    //позиція заміни
    int pos = ptr - str;
    
    // функція заміни
    str_replace(str, pos, strlen(ptr), replace);
    
    // вивід результату
    printf("%s", str);
    
    return 0;
}

//функція заміни
void str_replace(char *str, int pos, int len, char *replace)
{
    // створення буферного рядка
    char buffer[100];
    
    //копіювання першої частини рядка до позиції заміни
    strncpy(buffer, str, pos);
    
    // додавання заміненого тексту
    strcat(buffer, replace);
    
    // копіювання останньої частини рядка
    strcat(buffer, str + pos + len);
    
    // копіювання буферного рядка назад у вхідний рядок
    strcpy(str, buffer);
}
```

Результат виконання коду буде виглядати так:

```
Вітаю, світ!
```

## Детальний огляд

Є кілька важливих речей, які необхідно врахувати при використанні функцій пошуку та заміни у мові С. Перш за все, необхідно перевірити, чи є текст, який ви шукаєте, у вихідному рядку. Якщо це не так, то функція `strstr()` поверне `NULL`.

Також необхідно врахувати роздільник слова при заміні. Наприклад, якщо шуканий текст - "ми", а заміна - "ти", то слово "символ" не повинно стати "тимосимволом". Бажано використовувати додаткові функції для розділення на слова та обробки роздільників.

## Дивись також

Для отримання більшо