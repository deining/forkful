---
title:                "C: Перевірка наявності директорії."
simple_title:         "Перевірка наявності директорії."
programming_language: "C"
category:             "C"
tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/c/checking-if-a-directory-exists.md"
---

{{< edit_this_page >}}

## Тому чому
Коли розробникам потрібно виконувати певну дію, наприклад створити файл чи зберегти дані, до  важливо перевірити чи цільова директорія існує. Це може допомогти уникнути помилок та зберегти час.

## Як перевірити чи існує директорія
Для перевірки чи існує директорія користувач може скористатися функцією `opendir ()` з бібліотеки `<dirent.h>`. Ця функція відкриває потік для читання поточної директорії та повертає вказівник на структуру `DIR`. У разі, якщо переданий шлях до директорії не існує, функція поверне `NULL`. Для перевірки цього стану, необхідно перевірити вказівник на `NULL`.

```C
DIR *dir = opendir("path/to/directory");
if (dir == NULL) {
    // директорія не існує
} else {
    // директорія існує
    closedir(dir);  // закрити потік після перевірки
}
```
Приклад виводу при використанні неправильного шляху до директорії:
```
Директорія не існує
```

## Глибокий аналіз
Функція `opendir ()` відкриває потік лише для читання, тому не можна використовувати її для запису чи створення файлів. Крім того, вона не перевіряє права доступу до директорії, тому можуть виникнути проблеми при спробі читати заборонений вміст.

## Дивіться також
- [Функція `opendir()` в документації з мови програмування C](https://www.opennet.ru/base/dev/dir_opendir.html)
- [приклад використання функції `opendir()` з поясненням](https://www.geeksforgeeks.org/c-program-check-given-file-exists-not/)
- [використання `opendir()` для перегляду змісту директорії](https://www.tutorialspoint.com/c_standard_library/c_function_opendir.htm)