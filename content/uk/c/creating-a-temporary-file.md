---
title:    "C: Створення тимчасового файлу"
keywords: ["C"]
editURL:  "https://github.com/dogweather/forkful/blob/master/content/uk/c/creating-a-temporary-file.md"
---

{{< edit_this_page >}}

## Чому

Створення тимчасових файлів є важливою складовою для ефективного програмування на C. Вони дозволяють зберігати тимчасові дані, що зберігаються в оперативній пам'яті протягом виконання програми, що допомагає зберегти місце і покращити продуктивність.

## Як створити тимчасовий файл

Тимчасові файли можна створити за допомогою двох функцій - `tmpfile()` і `tmpnam()`. Перша функція створює новий тимчасовий файл з унікальним іменем і повертає вказівник на файл. Друга функція генерує унікальне ім'я для тимчасового файлу і повертає його як рядок. Ось приклад коду для створення тимчасового файлу і запису в нього даних:

```C
#include <stdio.h>

int main() {
    FILE *temp_file;
    char data[100] = "Це тимчасовий файл";

    // Створення тимчасового файлу і запис даних
    temp_file = tmpfile();
    fputs(data, temp_file);

    // Зчитування даних з тимчасового файлу
    rewind(temp_file);
    char temp_data[100];
    fgets(temp_data, 100, temp_file);
    printf("Дані, записані в тимчасовий файл: %s", temp_data);

    // Закриття тимчасового файлу
    fclose(temp_file);
    return 0;
}
```

При виконанні цього коду, ви отримаєте наступний вивід:

```
Дані, записані в тимчасовий файл: Це тимчасовий файл
```

## Глибока розробка

Розглянемо детальніше функцію `tmpfile()`. Вона створює файл в тимчасовій директорії, що зазвичай знаходиться в `/tmp` у Unix або `C:\windows\temp` в Windows. Цей файл буде автоматично видалений після закриття ним програми. Якщо ви хочете зберегти тимчасовий файл після закінчення програми, ви можете скопіювати його до іншої директорії або перейменувати власне ім'я або навіть закінчити програму після створення тимчасового файлу.

## Дивіться також

- [Функція `tmpnam()` в документації C](https://www.tutorialspoint.com/c_standard_library/c_function_tmpnam.htm)
- [Огляд тимчасових файлів на Habr](https://habr.com/ru/post/126733/)