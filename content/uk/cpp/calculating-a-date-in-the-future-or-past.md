---
title:    "C++: Обчислення дати у майбутньому або минулому."
keywords: ["C++"]
---

{{< edit_this_page >}}

# Чому

Підрахунок дати в майбутньому або минулому може бути корисним у програмуванні, наприклад, для створення календарних додатків або зайнятості ресурсів. Він дозволяє отримати конкретну дату відстані часу від поточної дати і в розумних сценаріях може замінити використання статичної дати.

# Як

Використовуючи мову програмування C++, є декілька способів отримати дату відстані часу від поточної дати. Один з них - це використання бібліотеки <ctime> і функції time() для отримання поточної дати у форматі Unix. Потім можна використати функцію mktime() для додавання або віднімання бажаної кількості секунд до/від поточної дати. Нижче наведений приклад коду та вихідних даних:

```C++
#include <iostream>
#include <ctime>

int main() {
    time_t now = time(0); // поточна дата у форматі Unix
    struct tm* now_tm = localtime(&now); // створення структури дати і часу з формату Unix
    int future_days = 14; // кількість днів, яку хочемо додати до поточної дати
    now_tm->tm_mday += future_days; // додаємо бажану кількість днів до поточної дати
    time_t future = mktime(now_tm); // отримуємо нову дату у форматі Unix
    std::cout << "Поточна дата: " << ctime(&now);
    std::cout << "Дата через " << future_days << " днів: " << ctime(&future);
}
```
Вихідні дані:

```
Поточна дата: Tue Dec 22 10:30:00 2020
Дата через 14 днів: Sat Jan  5 10:30:00 2021
```

# Глибоке погруження

У більш складних сценаріях може знадобитися повноцінний обробник дат, який дозволяє врахувати такі параметри, як рік, місяць, день тижня, та ін. Для цього можна використати стандартну бібліотеку <chrono> і клас std::chrono::system_clock. Далі слід визначити тип дати і часу за допомогою класу std::chrono::time_point і використовувати функції add() та subtract() для обробки дат. Нижче наведений приклад коду та вихідних даних:

```C++
#include <iostream>
#include <chrono>

int main() {
    std::chrono::system_clock::time_point today = std::chrono::system_clock::now(); // поточна дата і час
    std::chrono::system_clock::time_point future = today + std::chrono::hours(12) - std::chrono::minutes(10); // додавання годин та віднімання хвилин
    std::cout << "Пот