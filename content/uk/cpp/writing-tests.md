---
title:    "C++: Написання тестів"
keywords: ["C++"]
editURL:  "https://github.com/dogweather/forkful/blob/master/content/uk/cpp/writing-tests.md"
---

{{< edit_this_page >}}

### Чому

Написання тестів є важливою частиною процесу програмування в C++. Тести дозволяють перевірити правильність роботи програм та забезпечити їх стабільність. Вони також допомагають зменшити кількість помилок та полегшують виправлення в будь-який момент.

### Як

Для написання тестів використовується бібліотека "Catch2", яку можна встановити за допомогою пакетного менеджера "vcpkg" для C++. Давайте розглянемо декілька прикладів коду, як використовувати цю бібліотеку і отримати результати тестування.

```C++
#define CATCH_CONFIG_MAIN
#include <catch2/catch.hpp>
```

У цьому прикладі ми включаємо заголовковий файл "catch2/catch.hpp", який містить усі необхідні функції та методи для написання тестів. Також визначаємо макрос "CATCH_CONFIG_MAIN", щоб включити функцію "main" для запуску тести.

```C++
int add(int a, int b) {
  return a + b;
}
```

Ось приклад функції, яку ми будемо тестувати. Вона приймає два цілі числа та повертає результат їх додавання.

```C++
TEST_CASE("Addition", "[math]") {
  REQUIRE(add(2, 3) == 5);
  REQUIRE(add(-1, 5) == 4);
}
```

Використовуючи бібліотеку "Catch2", ми можемо створити тести за допомогою макроса "TEST_CASE". Перший параметр вказує назву тесту, а другий - тег, який допомагає групувати тести відповідно до їх функціональності. Функція "REQUIRE" перевіряє, чи повертає функція "add" очікуваний результат.

```C++
TEST_CASE("Division by zero", "[math]") {
  REQUIRE_THROWS(add(5, 0));
}
```

Функція "REQUIRE_THROWS" дозволяє перевірити, чи виникла помилка під час виконання функції. У цьому прикладі ми очікуємо, що при діленні на нуль функція "add" викличе помилку.

### Глибина

Написання тестів - це не просто красиво та корисно. Воно також допомагає орієнтуватися в коді та зрозуміти його логіку. Часто, коли я пишу тести, я розумію, які помилки мені допускаються та як покращити мій код. Також тести допомагають зберегти час під час виправлення помилок, оскільки їх можна запускати автоматично після внесення змін до коду та продовжувати писати новий функціонал