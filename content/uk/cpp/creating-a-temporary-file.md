---
title:                "Створення тимчасового файлу."
html_title:           "C++: Створення тимчасового файлу."
simple_title:         "Створення тимчасового файлу."
programming_language: "C++"
category:             "C++"
tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/cpp/creating-a-temporary-file.md"
---

{{< edit_this_page >}}

## Чому

Створення тимчасового файлу є необхідною операцією для багатьох програм в C++. Він дозволяє програмі тимчасово зберігати дані або результати обчислень, які потім можна буде видалити або зберегти в постійному файлі.

## Як

Існує кілька способів створити тимчасовий файл у C++. Давайте розглянемо дві основні опції: використання функції "tmpfile" та створення файлу за допомогою об'єкта класу "fstream".

```C++
// Приклад використання функції "tmpfile"
#include <cstdio> // підключення бібліотеки для роботи з файлами

int main() {
  FILE* tmpFile; // створення змінної типу "FILE"
  tmpFile = tmpfile(); // виклик функції "tmpfile"

  if (tmpFile != NULL) { // перевірка на правильне створення файлу
    fputs("Це приклад роботи з тимчасовим файлом.", tmpFile); // запис даних у файл
    rewind(tmpFile); // повернення вказівника на початок файлу
    char buffer[40];
    fgets(buffer, 40, tmpFile); // зчитування даних з файлу
    puts(buffer); // виведення результату
    fclose(tmpFile); // закриття файлу
  }
  return 0;
}
```
Вивід:
```
Це приклад роботи з тимчасовим файлом.
```

```C++
// Приклад використання об'єкта класу "fstream"
#include <fstream> // підключення бібліотеки для роботи з файлами

int main() {
  std::fstream tmpFile; // створення об'єкту
  tmpFile.open("temp.txt", std::fstream::out | std::fstream::app); // відкриття файлу для запису із доповненням

  if (tmpFile.is_open()) { // перевірка на правильне відкриття файлу
    tmpFile << "Це приклад роботи з тимчасовим файлом."; // запис даних у файл
    tmpFile.close(); // закриття файлу
    tmpFile.open("temp.txt", std::fstream::in); // відкриття файлу для зчитування
    std::string buffer;
    std::getline(tmpFile, buffer); // зчитування даних з файлу
    std::cout << buffer << std::endl; // виведення результату
    tmpFile.close(); // закриття файлу
  }
  return 0;
}
```
Вивід:
```
Це приклад роботи з тимчасовим файлом.
```

## Поглиблення

Функція "tmpfile" використовується для створення тимчасового файлу в оперативній пам'яті, що дозволяє знизити час доступу до даних. Також, вона автоматично видаляє створений файл після того, як програма закрита. Уточненіше про цю функцію можна прочитати в [документації](https://en.cppreference.com/w/c/io/tmpfile).

Клас "fstream" надає можли