---
title:    "C++: Порівняння двох дат"
keywords: ["C++"]
---

{{< edit_this_page >}}

# Чому

 В програмуванні часто доводиться порівнювати дати, наприклад, для перевірки термінів або для сортування даних. Тому важливо знати як правильно порівнювати дати у мові програмування C++.

## Як

Существують кілька шляхів порівняння дат в C++ за допомогою стандартних функцій і бібліотек. Розглянемо найбільш поширені шляхи і подивимося який результат буде отриманий.

```C++
#include <iostream>
#include <ctime>
using namespace std;

int main()
{
    // Приклади дат для порівняння
    string date1 = "01/01/2021";
    string date2 = "26/12/2020";
    string date3 = "30/06/2021";

    // Перетворення рядків у дати за допомогою бібліотеки <ctime>
    struct tm time1 = { 0, 0, 0, 1, 0, 2021 - 1900 };
    struct tm time2 = { 0, 0, 0, 26, 11, 2020 - 1900 };
    struct tm time3 = { 0, 0, 0, 30, 5, 2021 - 1900 };

    // Порівняння дат за допомогою функції difftime()
    if (difftime(mktime(&time1), mktime(&time2)) < 0)
    {
        cout << date1 << " раніше за " << date2 << endl;
    }
    else
    {
        cout << date1 << " пізніше за " << date2 << endl;
    }

    if (difftime(mktime(&time2), mktime(&time3)) < 0)
    {
        cout << date2 << " раніше за " << date3 << endl;
    }
    else
    {
        cout << date2 << " пізніше за " << date3 << endl;
    }

    // Порівняння дат без використання бібліотек
    if (date1 > date2)
    {
        cout << date1 << " пізніше за " << date2 << endl;
    }
    else
    {
        cout << date1 << " раніше за " << date2 << endl;
    }

    return 0;
}
```

Вивід програми:

```
01/01/2021 пізніше за 26/12/2020
26/12/2020 раніше за 30/06/2021
01/01/2021 раніше за 26/12/2020
```

Зауважте, що при порівнянні дат без використання бібліотек результат буде некоректний, оскільки ми порівнюємо рядки, а не дати. Тому для коректного порівняння необхідно перетворити рядки у дати за допомогою бібліотеки `<ctime>`.

## Deep Dive

В пошуку ідеального способу порівняння дат у C++, варто врахувати особливості функцій та бібліотек, які використовуються. Наприклад, при використанні функції `mktime()` необхідно обов'язково ініціалізувати всі поля структури `tm`, інакше результат може бути некоректним. Також