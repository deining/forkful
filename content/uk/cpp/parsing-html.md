---
title:                "Розбір html"
html_title:           "C++: Розбір html"
simple_title:         "Розбір html"
programming_language: "C++"
category:             "C++"
tag:                  "HTML and the Web"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/cpp/parsing-html.md"
---

{{< edit_this_page >}}

## Що & Чому?
Розпарсити HTML, або витягнути інформацію з HTML-коду, може бути корисним для програмістів, які працюють з веб-розробкою, а також для автоматизації завдань, пов'язаних з обробкою великих обсягів даних. Це дозволяє отримати структуровану інформацію з веб-сторінок, що може бути використана для подальшого аналізу або збереження.

## Як це зробити:
```C++
#include <iostream>
#include <string>
#include <vector>
#include <algorithm> // потрібно для використання функції find()
#include <fstream> // потрібно для зчитування HTML-файлу

int main() {
    // відкриття HTML-файлу для зчитування
    std::ifstream file("index.html");
    std::string line;
    // створення вектору для збереження даних
    std::vector<std::string> data;
    // зчитування файлу рядок за рядком
    while (getline(file, line)) {
        // шукаємо тег <title>
        if (line.find("<title>") != std::string::npos) {
            // видаляємо теги та зберігаємо тільки текст
            std::string title = line.substr(line.find(">") + 1, line.find("</title>") - line.find(">") - 1);
            // виведення результату
            std::cout << "Заголовок сторінки: " << title << "\n";
            // додавання заголовка до вектору
            data.push_back(title);
        }
        // шукаємо тег <p>
        if (line.find("<p>") != std::string::npos) {
            // видаляємо теги та зберігаємо тільки текст
            std::string paragraph = line.substr(line.find(">") + 1, line.find("</p>") - line.find(">") - 1);
            // виведення результату
            std::cout << "Абзац сторінки: " << paragraph << "\n";
            // додавання абзацу до вектору
            data.push_back(paragraph);
        }
    }
    // закриття файлу
    file.close();
    // збереження результату в файл
    std::ofstream output("output.txt");
    // перебираємо вектор та записуємо дані у файл
    for (std::string line : data) {
        output << line << "\n";
    }
    // закриття файлу
    output.close();
    return 0;
}
```

Приклад вихідних даних у HTML-файлі:
```html
<!DOCTYPE html>
<html>
<head>
    <title>Це заголовок сторінки</title>
</head>
<body>
    <h1>Це заголовок першого рівня</h1>
    <p>Це перший абзац</p>
    <p>Це другий абзац</p>
    <h2>Це заголовок другого рівня</h2>
    <p>Це третій абзац</p>
</body>
</html>
```

Результат програми:
```
Заголовок сторінки: Це заголовок сторінки
Абзац сторінки: Це перший абзац
Абзац сторінки: Це другий абзац
Абзац сторінки: Це третій абзац
```

Файл результату (output.txt):
```
Це заголовок сторінки
Це перший абзац
Це другий абзац
Це третій абзац
```

## Глибока занурення:
Розпарсування HTML дати свій початок у 90-х роках, коли почалося активне розвиток Інтернету. Існує багато альтернативних способів для зчитування та обробки HTML-коду, наприклад, використання XPath або DOM. Якщо потрібно парсити великі обсяги даних, ці способи можуть бути більш зручними та ефективними, ніж дана реалізація. Як правило, зчитувати та обробляти HTML вручну не є найкращим вибором, тому рекомендується використовувати готові бібліотеки, які дозволять швидко та ефективно розпарсити HTML сторінку.

## Дивись також:
- [Базовий огляд HTML парсера в C++](https://www.cplusplus.com/articles/z13hAqkS/)
- [Boost C++ бібліотека для обробки HTML-документів](https://www.boost.org/doc/libs/1_75_0/libs/html/doc/html/index.html)
- [Опис XPath і його застосування в C++](https://en.cpp