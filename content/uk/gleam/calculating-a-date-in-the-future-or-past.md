---
title:    "Gleam: Обчислення дати у майбутньому або минулому"
keywords: ["Gleam"]
---

{{< edit_this_page >}}

## Чому

Розрахункова дата, будь то у майбутньому або минулому, може бути корисною для багатьох різних ситуацій. Наприклад, ви можете використовувати цю функцію, щоб визначити термін дії паспорта, формою подання податків або запланувати подію на прийдешнє.

## Як

Щоб розрахувати дату в майбутньому або минулому, нам потрібно буде встановити дату, від якої ми будемо відраховувати часовий інтервал. Для цього ми використовуємо функцію `DateTime.from_gregorian`, де ми можемо передати дату як рядок у форматі "рік-місяць-день". Наприклад, використовуючи розрахунок "2021-06-01" для встановлення початкової дати.

Потім ми можемо використовувати функції `DateTime.add` або `DateTime.subtract` для додавання або віднімання кількості днів, місяців, років, годин або хвилин до початкової дати. Наприклад, якщо ми хочемо розрахувати дату, яка буде через 3 місяці та 2 дні, ми можемо використовувати наступний код:

```Gleam
let start_date = DateTime.from_gregorian("2021-06-01")
let future_date = DateTime.add(start_date, days: 2, months: 3)
```

Результат буде `2021-09-03`.

Ми також можемо використовувати функцію `DateTime.to_gregorian` для перетворення результату у зрозумілий формат рядка.

## Глибокий занурення

Розрахунок дати в майбутньому або минулому може бути більш складним, ніж просто додавання або віднімання кількості днів, місяців чи років. Наприклад, якщо ми розраховуємо дату в майбутньому, а місяць, до якого ми додаємо, має менше днів, ніж поточний місяць, то ми повинні правильно обробляти цю ситуацію. Те ж саме стосується до вирахування дати в минулому, коли місяць має більше днів, ніж поточний місяць.

Також важливо враховувати рік високосу у функції `DateTime.add` та `DateTime.subtract`. Знову ж таки, це може призвести до складних ситуацій, які потребують спеціального оброблення.

Не забувайте, що цей розрахунок ґрунтується на Грегоріан