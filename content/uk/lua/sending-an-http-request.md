---
title:                "Відправлення http-запиту."
html_title:           "Lua: Відправлення http-запиту."
simple_title:         "Відправлення http-запиту."
programming_language: "Lua"
category:             "Lua"
tag:                  "HTML and the Web"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/lua/sending-an-http-request.md"
---

{{< edit_this_page >}}

## Що це і чому роблять програмісти?

Відправка HTTP-запиту - це коли програміст використовує команду для взаємодії з іншими веб-серверами. Це може бути корисно для отримання даних або відправки інформації на іншу сторону. Це є одним з ключових елементів веб-розробки і допомагає більшій функціональності та зручності для користувача.

## Як це зробити:

```Lua
local http = require("socket.http") -- імпортуємо http-бібліотеку
local url = "https://www.google.com" -- сайт, на який хочемо відправити запит
local body, code, headers = http.request(url) -- відправляємо запит і отримуємо відповідь
print(code) -- виводимо код відповіді, наприклад 200 (OK)
```
Це простий приклад використання бібліотеки socket.http для відправки HTTP-запиту на вказаний URL. У змінній "body" зберігається вміст веб-сторінки, "code" містить код відповіді, а "headers" - заголовки. В нашому прикладі ми просто виводимо код відповіді. 

```Lua
local http = require("socket.http")
local url = "https://www.example.com"
local body, code, headers = http.request{
    url = url,
    method = "POST", -- вказуємо метод запиту (GET за замовчуванням)
    redirect = true, -- встановлюємо перенаправлення на інший URL, якщо необхідно
    headers = {
        ["Content-Type"] = "application/json" -- вказуємо тип контенту, який буде відправлений
    },
    source = io.open("data.json"):read("*all"), -- вказуємо файл з даними для відправки
}
print(body) -- виводимо вміст веб-сторінки, якщо такий є
```
У цьому прикладі ми використовуємо додаткові параметри для конфігурації нашого запиту. Наприклад, ми вказуємо метод запиту (POST замість GET), дозволяємо перенаправлення на інший URL, вказуємо заголовок з типом контенту та вказуємо джерело даних для відправки.

## Глибший розгляд

Відправка HTTP-запитів є важливою частиною веб-розробки і дозволяє взаємодіяти з іншими веб-серверами. Використання бібліотеки socket.http є одним з способів виконання цієї задачі в мові Lua. Існують інші бібліотеки, такі як luasocket, які також пропонують функціонал для відправки HTTP-запитів. Кожна з них має свої переваги та недоліки, тому вибір залежить від конкретного проекту.

## Дивіться також

- Офіційна документація Lua: https://www.lua.org/docs.html
- Документація бібліотеки socket.http: http://w3.impa.br/~diego/software/luasocket/http.html
- Документація бібліотеки luasocket: http://w3.impa.br/~diego/software/luasocket/
- Офіційний сайт Lua: https://www.lua.org/