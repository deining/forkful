---
date: 2024-01-26 03:46:31.572011-07:00
description: "\u042F\u043A \u0446\u0435 \u0437\u0440\u043E\u0431\u0438\u0442\u0438\
  : Lua \u043D\u0435 \u043C\u0456\u0441\u0442\u0438\u0442\u044C \u0444\u0443\u043D\
  \u043A\u0446\u0456\u0457 \u043E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u043D\u044F\
  \ \"\u0437 \u043A\u043E\u0440\u043E\u0431\u043A\u0438\", \u043D\u0430 \u0432\u0456\
  \u0434\u043C\u0456\u043D\u0443 \u0432\u0456\u0434 \u0434\u0435\u044F\u043A\u0438\
  \u0445 \u0456\u043D\u0448\u0438\u0445 \u043C\u043E\u0432. \u0406\u0441\u0442\u043E\
  \u0440\u0438\u0447\u043D\u043E, \u0432\u0438 \u043F\u043E\u0432\u0438\u043D\u043D\
  \u0456 \u043D\u0430\u043F\u0438\u0441\u0430\u0442\u0438 \u0441\u0432\u043E\u044E\
  \ \u0432\u043B\u0430\u0441\u043D\u0443 \u0430\u0431\u043E\u2026"
lastmod: '2024-04-05T21:53:49.648649-06:00'
model: gpt-4-0125-preview
summary: "Lua \u043D\u0435 \u043C\u0456\u0441\u0442\u0438\u0442\u044C \u0444\u0443\
  \u043D\u043A\u0446\u0456\u0457 \u043E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u043D\
  \u044F \"\u0437 \u043A\u043E\u0440\u043E\u0431\u043A\u0438\", \u043D\u0430 \u0432\
  \u0456\u0434\u043C\u0456\u043D\u0443 \u0432\u0456\u0434 \u0434\u0435\u044F\u043A\
  \u0438\u0445 \u0456\u043D\u0448\u0438\u0445 \u043C\u043E\u0432."
title: "\u041E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u043D\u044F \u0447\u0438\u0441\
  \u0435\u043B"
weight: 13
---

## Як це зробити:
```lua
-- Базове округлення у Lua не вбудоване за замовчуванням, але ви можете визначити функцію:

function round(num)
    return num >= 0 and math.floor(num + 0.5) or math.ceil(num - 0.5)
end

print(round(3.5))  -- 4
print(round(2.3))  -- 2
print(round(-1.6)) -- -2

-- Для округлення до конкретного десяткового місця:
function round(num, decimalPlaces)
    local mult = 10^(decimalPlaces or 0)
    return math.floor(num * mult + 0.5) / mult
end

print(round(3.14159, 2)) -- 3.14
print(round(1.98765, 3))  -- 1.988
```

## Поглиблений Дайв
Lua не містить функції округлення "з коробки", на відміну від деяких інших мов. Історично, ви повинні написати свою власну або використовувати сторонню бібліотеку. Загальноприйняті обходи полягають у використанні `math.floor()` для округлення вниз і `math.ceil()` для округлення вгору, разом з додаванням або відніманням 0.5 до цього, залежно від знаку числа.

Альтернативи самостійному написанню функції включають бібліотеки, такі як "lua-users wiki" або "Penlight". У кожної є свої переваги та компроміси, як додаткові можливості або більше навантаження.

Внутрішньо, ці функції зазвичай працюють, використовуючи спосіб, яким комп'ютери зберігають числа з плаваючою комою. Додавання 0.5 до позитивного числа з плаваючою комою, яке ви хочете округлити, змусить його перетнути межу наступного цілого значення, тому коли ви застосовуєте `math.floor()`, воно округляється вниз до цього найближчого цілого числа.

## Дивіться Також
- [Lua 5.4 Довідник з Математичних Функцій](https://www.lua.org/manual/5.4/manual.html#6.7)
- [Математичні Бібліотеки Penlight Lua](https://github.com/lunarmodules/Penlight)
