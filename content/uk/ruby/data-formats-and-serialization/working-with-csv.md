---
changelog:
- 2024-02-03, gpt-4-0125-preview, translated from English
date: 2024-02-03 19:21:25.192586-07:00
description: "\u042F\u043A \u0446\u0435 \u0437\u0440\u043E\u0431\u0438\u0442\u0438\
  : Ruby \u0432\u043A\u043B\u044E\u0447\u0430\u0454 \u0431\u0456\u0431\u043B\u0456\
  \u043E\u0442\u0435\u043A\u0443 CSV \u0437\u0430 \u0437\u0430\u043C\u043E\u0432\u0447\
  \u0443\u0432\u0430\u043D\u043D\u044F\u043C, \u0449\u043E \u0441\u043F\u0440\u043E\
  \u0449\u0443\u0454 \u0447\u0438\u0442\u0430\u043D\u043D\u044F \u0437 \u0444\u0430\
  \u0439\u043B\u0456\u0432 CSV \u0442\u0430 \u0437\u0430\u043F\u0438\u0441 \u0443\
  \ \u043D\u0438\u0445. \u041E\u0441\u044C \u044F\u043A \u0432\u0438 \u043C\u043E\u0436\
  \u0435\u0442\u0435 \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u0442\u0438\
  \ \u0446\u0435 \u0434\u043B\u044F \u0437\u0430\u0433\u0430\u043B\u044C\u043D\u0438\
  \u0445\u2026"
lastmod: '2024-03-13T22:44:50.265616-06:00'
model: gpt-4-0125-preview
summary: "Ruby \u0432\u043A\u043B\u044E\u0447\u0430\u0454 \u0431\u0456\u0431\u043B\
  \u0456\u043E\u0442\u0435\u043A\u0443 CSV \u0437\u0430 \u0437\u0430\u043C\u043E\u0432\
  \u0447\u0443\u0432\u0430\u043D\u043D\u044F\u043C, \u0449\u043E \u0441\u043F\u0440\
  \u043E\u0449\u0443\u0454 \u0447\u0438\u0442\u0430\u043D\u043D\u044F \u0437 \u0444\
  \u0430\u0439\u043B\u0456\u0432 CSV \u0442\u0430 \u0437\u0430\u043F\u0438\u0441 \u0443\
  \ \u043D\u0438\u0445."
title: "\u0420\u043E\u0431\u043E\u0442\u0430 \u0437 CSV"
weight: 37
---

## Як це зробити:
Ruby включає бібліотеку CSV за замовчуванням, що спрощує читання з файлів CSV та запис у них. Ось як ви можете використати це для загальних завдань:

### Читання з файлу CSV
Для читання з файлу CSV спочатку вам потрібна бібліотека CSV. Потім ви можете ітерувати по рядках або читати їх у масив.

```ruby
require 'csv'

# Читання кожного рядка як масиву
CSV.foreach("data.csv") do |row|
  puts row.inspect
end

# Вивід для кожного рядка може виглядати так: ["data1", "data2", "data3"]
```

### Запис в CSV
Запис в файл CSV також є прямолінійним. Ви можете додавати дані до існуючого файлу або створювати новий файл для запису.

```ruby
require 'csv'

CSV.open("output.csv", "wb") do |csv|
  csv << ["header1", "header2", "header3"]
  csv << ["value1", "value2", "value3"]
end

# Це створює або перезаписує 'output.csv' з заданими заголовками та значеннями.
```

### Парсинг рядка CSV
Іноді вам потрібно парсити дані CSV безпосередньо з рядка. Ось як:

```ruby
require 'csv'

data = "name,age,city\nJohn Doe,29,New York\nJane Doe,31,Chicago"
csv = CSV.parse(data, headers: true)

csv.each do |row|
  puts "#{row['name']} - #{row['age']} - #{row['city']}"
end

# Очікуваний вивід:
# John Doe - 29 - Нью-Йорк
# Jane Doe - 31 - Чикаго
```

### Використання SmarterCSV
Для складніших завдань з CSV можна використовувати гем `SmarterCSV`. Спочатку встановіть гем:

```shell
gem install smarter_csv
```

Потім ви можете використовувати його для роботи з великими файлами або для більш складного парсингу та маніпуляції:

```ruby
require 'smarter_csv'

options = {}
data = SmarterCSV.process('large_data.csv', options)

data.each do |hash|
  puts hash.inspect
end

# Це прочитає 'large_data.csv' і виведе кожен рядок як хеш на основі заголовків.
```

Підсумовуючи, вбудована бібліотека CSV в Ruby разом із сторонніми гемами, як-от `SmarterCSV`, забезпечує міцну підтримку для обробки даних CSV, дозволяючи ефективно виконувати завдання з обробки та маніпуляції даними.
