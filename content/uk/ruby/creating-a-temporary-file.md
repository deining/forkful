---
title:    "Ruby: Створення тимчасового файлу"
keywords: ["Ruby"]
editURL:  "https://github.com/dogweather/forkful/blob/master/content/uk/ruby/creating-a-temporary-file.md"
---

{{< edit_this_page >}}

## Чому

Створення тимчасових файлів є важливою частиною розробки програмного забезпечення. Вони дозволяють нам зберігати та обробляти дані, які згодом будуть видалені. Це дуже корисно, коли ми не хочемо залишати постійні фактичні файли на нашому комп'ютері, або коли ми працюємо з конфіденційною інформацією, яка повинна бути видалена відразу ж після використання.

## Як

Для створення тимчасових файлів у Ruby ми можемо використовувати метод `Tempfile` зі встановленим шляхом або іменем файлу:

```ruby
require ‘tempfile’

# Створення тимчасового файлу зі шляхом "/tmp/tempfile"
tempfile = Tempfile.new("tempfile", "/tmp")

# Створення тимчасового файлу зі згенерованим іменем
tempfile = Tempfile.new

# Записати дані в файл
tempfile.write("Це даний для тимчасового файлу.")
# Зчитати дані з файлу
puts tempfile.read # "Це дані для тимчасового файлу."

# Видалити тимчасовий файл
tempfile.close
```

## Глибше

Окрім створення тимчасового файлу з встановленим шляхом або іменем, ми також можемо налаштувати його обмеження розміру та автоматичне видалення після закриття. Наприклад:

```ruby
require ‘tempfile’

# Створення тимчасового файлу з обмеженням розміру 10 МБ
tempfile = Tempfile.new("tempfile", "/tmp", Encoding::UTF_8, 10 * 1024 * 1024)

# Автоматичне видалення файлу після закриття
tempfile.close!

# Перевірка, чи файл був успішно видалений
puts File.exist?(tempfile.path) # false
```

Також, ми можемо користуватися методами `unlink` або `delete` для видалення тимчасового файлу вручну.

## Дивись також

- [Офіційна документація Ruby про клас `Tempfile`](https://ruby-doc.org/stdlib-2.7.0/libdoc/tempfile/rdoc/Tempfile.html)
- [Стаття про створення тимчасових файлів в Ruby](https://www.rubyguides.com/2020/03/temporary-files-in-ruby/)
- [Простий підхід до роботи з тимчасовими файлами у Ruby](https://www.honeybadger.io/blog/a-simple-approach-to-temporary-files-in-ruby/)