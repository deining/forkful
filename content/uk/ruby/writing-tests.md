---
title:    "Ruby: Написання тестів"
keywords: ["Ruby"]
---

{{< edit_this_page >}}

## Чому

Запис коду може бути важкою та складною задачею, і тестування може здатися непотрібним. Але тестування допомагає виявляти та виправляти помилки в коді, зберігаючи його ефективним та функціональним.

## Як to Зробити

Для початку, нам необхідно встановити фреймворк для тестування в Ruby, такий як RSpec. Якщо ви використовуєте Ruby on Rails, фреймворк вже буде встановлений. Переконайтеся, що у вашому проекті вказано правильний шлях посилання на файл з тестами. Далі, нам необхідно створити новий файл з тестами (розширення .spec.rb) в тому ж каталозі, де зберігається наш код. Потім, використовуючи Spec DSL, ми можемо написати свої тести.

```Ruby
require 'rspec/autorun'

# Базовий приклад для тестування
describe "Додавання чисел" do
  it "Повертає суму двох чисел" do
    expect(2 + 2).to eq(4)
  end
end
```

Running the tests will result in the output:

Виконання тестів призведе до такого результату:

```Ruby
2 examples, 0 failures
```

Загалом, для написання тестів необхідно:

- Знати синтаксис і використовувати групи тестів, щоб краще організувати ваші тести
- Створювати об'єки тесту і використовувати методи #expect та #to для перевірки результатів
- Використовувати #before та #after методи для виконання коду до та після кожного тесту
- Дотримуватися гарних практик тестування, таких як тестування лише одного елемента за раз та використання змінних назв об'єктів, щоб зробити код більш зрозумілим.

## Deep Dive

Одним з головних завдань при написанні тестів є покриття якомога більшої частини вашого коду. Для цього, важливо знати, як правильно тестувати різні типи функцій, такі як публічні, приватні, захищені та статичні. Також, варто розглянути можливість використовувати сторонні бібліотеки для полегшення процесу тестування.

## Подивіться також

- https://rspec.info/documentation/ - офіційна документація RSpec
- https://betterexplained.com/articles/starting-ruby-test-driven/ - посібник з базових концепцій тестування в Ruby
- https://medium.com/rubyinside/rspec-introduction-c313402edd9e - стаття про основи RSpec

## Див