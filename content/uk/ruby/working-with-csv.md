---
title:                "Робота з csv"
html_title:           "Ruby: Робота з csv"
simple_title:         "Робота з csv"
programming_language: "Ruby"
category:             "Ruby"
tag:                  "Data Formats and Serialization"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/ruby/working-with-csv.md"
---

{{< edit_this_page >}}

## Чому

Робота з CSV-файлами є невід'ємною частиною програмування на Ruby. Цей формат даних широко використовується для зберігання та обміну даними між різними додатками та системами. Знання роботи з CSV дозволить вам ефективно обробляти та аналізувати великі обсяги даних.

## Як

В Ruby є вбудована бібліотека для роботи з CSV - `CSV`. Щоб увімкнути цю бібліотеку, ви можете використовувати наступне імпорт: 

```Ruby
require 'csv'
```

Щоб створити новий CSV-файл для запису, ви можете використати `CSV.open` метод та передати йому назву файлу та необхідні параметри:

```Ruby
CSV.open('myfile.csv', 'w') do |csv|
    # тут можна вводити дані до файлу
end
```

Існують кілька способів додавання даних до CSV-файлу. Наприклад, ви можете використовувати `<<` оператор для додавання нового рядка даних:

```Ruby
CSV.open('myfile.csv', 'a') do |csv|
    csv << ['John', 'Doe']
end
```

Також можна використовувати `CSV.foreach` метод для читання даних з CSV-файлу:

```Ruby
CSV.foreach('myfile.csv') do |row|
    puts row.inspect
end
```

Результат буде виглядати наступним чином:

```Ruby
["John", "Doe"]
```

Щоб зберегти зміни в CSV-файлі, потрібно закрити файл за допомогою `csv.close` методу. І не забудьте завжди перевіряти коректність введених даних та використовувати `begin-rescue` блок для обробки можливих помилок.

## Глибоке занурення

Робота з CSV-файлами в Ruby дозволяє вам не тільки зберігати та обмінюватися даними, але й проводити складні аналізи та маніпуляції з даними. Наприклад, ви можете використовувати `CSV.foreach` метод для фільтрації даних за певними критеріями:

```Ruby
CSV.foreach('myfile.csv') do |row|
    if row.include?('Jane')
        puts row.inspect
    end
end 
```

Цей код виведе всі рядки з файлу, які містять ім'я "Jane". Також ви можете використовувати `CSV.foreach` для обчислення середнього значення або максимального значення в стовпці з числовими даними.

## Дивіться також

- [Ruby: робота з CSV-файлами](https://ruby-doc.org/stdlib-2.6.3/libdoc/csv/rdoc/CSV.html)
- [Простий вступ до роботи з CSV на Ruby](https://learnruby.com/lessons/303)
- [Офіційна документація про роботу з CSV на Ruby](https://ruby-doc.org/stdlib-