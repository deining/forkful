---
title:    "Swift: Обчислення дати у майбутньому або минулому"
keywords: ["Swift"]
---

{{< edit_this_page >}}

## Чому

В програмуванні дуже часто потрібно працювати з датами. Іноді ви можете знадобитися знайти дату в майбутньому або в минулому. Наприклад, ви можете створити додаток, який буде розраховувати дату, коли потрібно оплатити рахунок, або планувати подію в майбутньому. У цьому пості ми розкажемо вам, як легко це зробити за допомогою Swift.

## Як

Для розрахунку майбутньої дати ми використаємо клас `DateFormatter`, який дозволяє конвертувати рядки у дату. Спершу нам потрібно створити екземпляр цього класу з встановленим форматом дати:

```Swift
let dateFormatter = DateFormatter()
dateFormatter.dateFormat = "dd/MM/yyyy"
```

Тепер ми можемо використовувати цей об'єкт для конвертації рядка у дату:

```Swift
let dateString = "10/09/2020"
if let date = dateFormatter.date(from: dateString) {
    print(date)
}
```

У цьому прикладі нам потрібно конвертувати дані зі стрічки `10/09/2020` у тип `Date`. Завдяки `if let` ми можемо переконатися, що конвертація пройде успішно. Якщо дата введена неправильно, то змінна `date` буде містити `nil`.

Тепер давайте розглянемо розрахунок майбутньої дати. Для цього ми будемо використовувати метод `date(byAdding:to:wrappingComponents:)` з класу `Calendar`. Цей метод додає до дати певну кількість компонентів, наприклад, дні, місяці або роки.

```Swift
if let date = dateFormatter.date(from: "10/09/2020") {
    let calendar = Calendar.current
    if let futureDate = calendar.date(byAdding: .month, value: 2, to: date) {
        print(futureDate)
    }
}
```

У цьому прикладі ми додали до дати 2 місяці. Якщо ви хочете додати іншу кількість компонентів, то можете змінити параметри `Calendar.Component` та `value`.

## Deep Dive

Розглянемо детальніше, як працює метод `date(byAdding:to:wrappingComponents:)`. Він приймає три параметри: компонент, значення та `DateComponents`. Компонент визначає, яке поле дати ми хочемо змінити, наприклад, рік або день. Значення представляє собою кількість одиниць цього компонента, які необхідно додати до дати. `DateComponents` містить додаткову інформацію про дату, наприклад, часовий пояс або календар. Всі ці параметри разом дозволяють додати потрібну кількі