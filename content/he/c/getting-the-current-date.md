---
title:    "C: קבלת התאריך הנוכחי"
keywords: ["C"]
editURL:  "https://github.com/dogweather/forkful/blob/master/content/he/c/getting-the-current-date.md"
---

{{< edit_this_page >}}

## למה

למה שיהיה לאדם צורך להשתמש בקוד כדי לקבל את התאריך הנוכחי? אחת הסיבות העיקריות לכך היא להציג את התאריך הנוכחי למשתמש שלכם. זאת יכולה להיות חלק מממשק המשתמש, או כדי לתת מידע נוסף על המחשב או אפליקציה.

## איך לעשות זאת

כדי לקבל את התאריך הנוכחי בקוד שלכם, תצטרכו להשתמש בפונקציה המובנית `time()` ובמבנה המובנה `struct tm`. הנה דוגמה של קוד C המדגים איך לקבל את התאריך הנוכחי ולהדפיס אותו:

```C
#include <stdio.h>
#include <time.h>

int main() {
    // יצירת מופע של struct tm
    struct tm *now;
    // הפעלת הפונקציה time כדי לקבל את הזמן הנוכחי
    time_t seconds = time(NULL);
    // שמירת התאריך הנוכחי במופע של struct tm
    now = localtime(&seconds);

    // הדפסת התאריך בפורמט מסוים
    printf("%d/%d/%d", now->tm_mday, now->tm_mon + 1, now->tm_year + 1900);

    return 0;
}
```

פלט: `22/3/2021`

## מעמקים

הפונקציה `time()` מחזירה את הזמן הנוכחי בפורמט של "שניות מאז חצות שניות", או "שניות מאז 00:00:00 ינואר 1, 1970". זהו ערך שמיועד לשמור על משך זמן גדול ככל שנדרש.

על מנת לפענח את התאריך מהערך הזה, אנו משתמשים במבנה המובנה `struct tm`, המכיל מידע כמו שנה, חודש, יום וכו'. בפונקציה `localtime()` אנו משתמשים כדי להמיר את ערך השניות המוחזר על ידי `time()` למבנה של `struct tm`. בקוד המופיע בפתרון המעמקים, אנו משתמשים בשדות `tm_mday, tm_mon, tm_year` כדי להדפיס את התאריך בפורמט הנכון.

## ראו גם

- [פונקציות מוב