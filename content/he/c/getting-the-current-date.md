---
title:    "C: לקבלת התאריך הנוכחי"
keywords: ["C"]
---

{{< edit_this_page >}}

## למה

תארו לכם שאתם כותבים תוכניות מחשב, ותרצו להפעיל את התוכנית בתאריך הנוכחי. מה תעשו? תצטרכו להשתמש בפונקציה שתאפשר לכם לקבל את התאריך הנוכחי. כך תוכלו להעביר לתוכנית שלכם מידע על התאריך הנוכחי ללא צורך להזין אותו באופן ידני כל פעם שתפעילו את התוכנית.

## איך לעשות זאת

בשפת סי, קבלת התאריך הנוכחי נעשית בעזרת הספריה <time.h>. תחילה, נצטרך להכיר את המבנה המקובל לקידוד תאריך בשפה זו - struct tm. לאחר מכן, כדי לקבל את התאריך הנוכחי, נשתמש בפונקציה time() שתחזיר לנו את השעה הנוכחית בצורה נוחה לעיבוד. בשביל לעבד את התאריך המתקבל, נשתמש בפונקציה localtime() המפענחת את המבנה struct tm וכך נוכל לגשת לתאריך, השעה וכל המידע הקיים בתאריך הנוכחי ולהשתמש בו כנדרש.

```C
#include <stdio.h>
#include <time.h>

int main(){

    // משתנה אשר יחזיק את השעה הנוכחית
    time_t current_time;
    
    // קבלת השעה הנוכחית
    time(&current_time);

    // משתנה מקומי של מבנה struct tm
    struct tm *local_time;

    // המרת השעה הנוכחית למבנה struct tm
    local_time = localtime(&current_time);

    // פלט התאריך שנקבל מהמבנה
    printf("תאריך נוכחי: %d/%d/%d\n", local_time->tm_mday, local_time->tm_mon + 1, local_time->tm_year + 1900);

    return 0;
}
```

פלט:

```
תאריך נוכחי: 6/10/2021
```

ניתן לראות שנת 1900 נוספה לתעריף שנמצא במבנה struct tm, כיוון שהפוקרט לתאריך עובד עם שנים מ-1900 ומעלה, ולכן עלינו להוסיף את הערך הזה כדי לקבל את השנה המדויקת. כמו