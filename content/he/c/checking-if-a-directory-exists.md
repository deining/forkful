---
title:                "C: בדיקת קיום תיקייה"
simple_title:         "בדיקת קיום תיקייה"
programming_language: "C"
category:             "C"
tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/he/c/checking-if-a-directory-exists.md"
---

{{< edit_this_page >}}

## מדוע

בתכנות בשפת C, ייתכן שנתקלנו בצורך לבדוק אם תיקייה מסוימת קיימת או לא. זה יכול להיות שימושי במצבים שונים כמו יצירת תיקייה חדשה, ניהול טבלאות במסד נתונים ואפילו בממשקי משתמש ליצירת מבנה מסוים במערכת המחשב.

## איך לעשות זאת

הנה דוגמה לכתיבת פונקציה פשוטה שבודקת אם התיקייה "images" קיימת במערכת הקבצים ומדפיסה הודעה מתאימה:

```C
#include <stdio.h>
#include <sys/stat.h>
#include <dirent.h>

int main()
{
    // קבלת מצב התיקייה
    struct stat st;
    stat("images", &st);

    // בדיקה אם המצב מצביע על קיום תיקייה
    if (S_ISDIR(st.st_mode))
    {
        printf("התיקייה קיימת במערכת הקבצים!\n");
    }
    else
    {
        printf("התיקייה לא קיימת במערכת הקבצים!\n");
    }

    return 0;
}
```

פלט התכנית:

```
התיקייה קיימת במערכת הקבצים!
```

## חפירה עמוקה

בכדי לבדוק אם תיקייה קיימת במערכת הקבצים, נשתמש בפונקציות הנתמכות על ידי מערכת ההפעלה. בדרך כלל, נשתמש בפונקציות "stat" או "access" שמאפשרות לנו לקבל מידע על קובץ/תיקייה ועל ההרשאות הנדרשות כדי להגיע אליו.

נתבונן בדוגמה הבאה, שימראה איך לבצע בדיקת קיום תיקייה גם במספר מקרים שונים:

```C
#include <stdio.h>
#include <sys/stat.h>
#include <dirent.h>

int main()
{
    // קבלת מצב התיקייה
    struct stat st;
    stat("images", &st);

    // מקרה 1: בדיקה אם המצב מצביע על קיום תיקייה
    if (S_ISDIR(st.st_mode))
    {
        printf("התיקייה קיימת במערכת הקבצים!\n");
    }

    // מקרה 2: בדיקה א