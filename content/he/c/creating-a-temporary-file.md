---
title:    "C: יצירת קובץ זמני"
keywords: ["C"]
editURL:  "https://github.com/dogweather/forkful/blob/master/content/he/c/creating-a-temporary-file.md"
---

{{< edit_this_page >}}

## למה

יצירת קובץ זמני היא כלי מאוד שימושי בתכנות ב־C. בעזרתו, ניתן ליצור קובץ שניתן להשתמש בו מעט זמן ולאחר מכן למחוק אותו באופן אוטומטי. זה מאפשר לנו להתעלם מניהול זיכרון ולייצר קבצים זמניים בעת הצורך כדי לשמור על תואר מסוים של נקיון ומסדר בקוד השלם.

## איך לעשות זאת

כאשר אתם רוצים ליצור קובץ זמני בתכנית C שלכם, יש לבצע את השלבים הבאים:

```C
// הפריטים הדרושים
#include <stdio.h>
#include <stdlib.h>

int main()
{
    // יצירת קובץ זמני
    FILE *fp;
    fp = tmpfile();

    // בדיקה אם היצירה הצליחה
    if (fp == NULL)
    {
        printf("כישלון ביצירת קובץ זמני.");
        return 1;
    }

    // הדפסת הטקסט לקובץ
    fprintf(fp, "זוהי טקסט בקובץ זמני!");

    // קריאה מחדש מהקובץ והדפסה למסך
    rewind(fp);
    char text[20];
    fgets(text, 20, fp);
    printf("%s", text);

    // מחיקת הקובץ הזמני
    fclose(fp);

    return 0;
}
```

תוצאה:

```
זוהי טקסט בקובץ זמני!
```

## חפירה מעמיקה

כאשר אתם בונים קובץ זמני בתכנית C, המערכת מקציעה בכם שטח במזיקות שקופת הזיכרון שלכם, ומבצעת את יציאת ה־file descriptor של הקובץ הזמני. אתם יכולים לקרוא ולכתוב לקובץ כרגיל באמצעות פקודות כמו `fprintf` ו`fscanf`. כדי לעבור ל־file descriptor של הקובץ, תוכלו להשתמש בפקודה `fileno` שתחזיר לכם את ה־file descriptor הדרוש.

הספרייה הסטנדרטית של שפת C כוללת פונקציות רבות שיעילות ליצירת קב