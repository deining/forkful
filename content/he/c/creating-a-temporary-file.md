---
title:    "C: יצירת קובץ זמני"
keywords: ["C"]
---

{{< edit_this_page >}}

## למה:

יצירת קובץ זמני בתוך קוד C נחשב לכלי עזר חיוני לכל מתכנת. קבצים זמניים מאפשרים לנו לשמור ולטפל בנתונים זמניים במהלך ריצת התוכנית, ולעבוד איתם על מנת להשיג את התוצאות הרצויות בצורה יעילה יותר.

## איך לעשות:

כדי ליצור קובץ זמני בתוך קוד C, אנו צריכים להשתמש בפונקציות שמיועדות לכך, כגון `fopen()` ו-`tmpnam()`. נוסיף להן פרמטרים מתאימים כדי להגדיר את התכונות של הקובץ הזמני. בהמשך נוכל להשתמש ב-`fprintf()` כדי להכניס נתונים לקובץ ולעבוד איתם כרצוננו.

```C
#include <stdio.h>

int main() {
    // יצירת קובץ זמני
    FILE *temp_file = fopen("temp.txt", "w+");
    
    // כתיבה לקובץ
    fprintf(temp_file, "הספרות הראשוניות הם: %d, %d, %d", 1, 2, 3);
    
    // קריאה מהקובץ
    fseek(temp_file, 0, SEEK_SET);
    char temp_str[50];
    fscanf(temp_file, "%s", temp_str);
    printf("התוכן של הקובץ הוא: %s", temp_str);
    
    // סגירת הקובץ ומחיקתו
    fclose(temp_file);
    remove("temp.txt");
    return 0;
}
```

פלט:

```
התוכן של הקובץ הוא: הספרות הראשוניות הם: 1, 2, 3
```

## העמקה:

כדי להבין טוב יותר את השימוש בקבצים זמניים, ניתן לעשות דוגמה של תוכנית שמאחסנת גילאים של סטודנטים בקובץ זמני ומדפיסה את הגיל הממוצע לכל הסטודנטים.

```C
#include <stdio.h>

int main() {
    // יצירת קובץ זמני
    FILE *temp_file = fopen("ages.txt", "w+");
    
    // כתיבת גילאים לקובץ - לשם דוגמה, יצרנו מערך כדי להסיק גילאים אקראיים
    int i, ages[5];
    for (i =